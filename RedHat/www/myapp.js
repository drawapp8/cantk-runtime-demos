var guiData = {
	"type": "ui-device",
	"name": "Device-General",
	"w": 552,
	"h": 878,
	"x": 553,
	"y": 0,
	"text": "",
	"enable": true,
	"visible": true,
	"xAttr": 0,
	"yAttr": 0,
	"widthAttr": 0,
	"heightAttr": 0,
	"uid": 16614,
	"runtimeVisible": true,
	"isUIDevice": true,
	"isUIElement": true,
	"hasChildren": true,
	"xParam": 1,
	"yParam": 1,
	"widthParam": 1,
	"heightParam": 1,
	"deviceConfig": "{\"name\":\"PC-Portrait\",\"bg\":\"/drawapp8/images/pc-460x740.png\",\"platform\":\"android\",\"version\":\"4\",\"lcdDensity\":\"hdpi\",\"width\":520,\"height\":840,\"screenX\":31,\"screenY\":68,\"screenW\":460,\"screenH\":740,\"hasMenuBar\":false}",
	"longPressed": false,
	"style": {
		"lineWidth": 2,
		"lineColor": "Green",
		"fillColor": "Black",
		"textColor": "White",
		"fontSize": 24,
		"fontFamily": "serif"
	},
	"events": {
		"onClick": "console.log(\"onClick was triggered\")"
	},
	"images": {
		"display": 3,
		"default_bg": "drawapp8/images/device.png"
	},
	"config": {
		"name": "Device-General",
		"bg": "drawapp8/images/device.png",
		"platform": "android",
		"version": "5",
		"lcdDensity": "hdpi",
		"width": 560,
		"height": 798,
		"screenX": 36,
		"screenY": 80,
		"screenW": 480,
		"screenH": 720
	},
	"children": [
		{
			"type": "ui-screen",
			"name": "ui-screen",
			"w": 480,
			"h": 720,
			"x": 36,
			"y": 80,
			"text": "",
			"enable": true,
			"visible": true,
			"xAttr": 0,
			"yAttr": 0,
			"widthAttr": 0,
			"heightAttr": 0,
			"uid": 16615,
			"runtimeVisible": true,
			"xParam": 1,
			"yParam": 1,
			"widthParam": 1,
			"heightParam": 1,
			"hasStatusBar": true,
			"yStatusBar": 0,
			"hStatusBar": 40,
			"fixedX": 65,
			"fixedY": 238,
			"isUIScreen": true,
			"isUIElement": true,
			"hasChildren": true,
			"longPressed": false,
			"style": {
				"lineWidth": 2,
				"lineColor": "Green",
				"fillColor": "white",
				"textColor": "Black",
				"fontSize": 24,
				"fontFamily": "serif"
			},
			"events": {
				"onClick": "console.log(\"onClick was triggered\")"
			},
			"images": {
				"display": 2
			},
			"children": [
				{
					"type": "ui-window-manager",
					"name": "window-manager",
					"w": 480,
					"h": 720,
					"x": 0,
					"y": 0,
					"text": "",
					"enable": true,
					"visible": true,
					"xAttr": 0,
					"yAttr": 0,
					"widthAttr": 2,
					"heightAttr": 0,
					"uid": 16616,
					"runtimeVisible": true,
					"current": 9,
					"showLoadingProgress": true,
					"progressBarBorderColor": "White",
					"progressBarFillColor": "Gold",
					"progressTextColor": "Green",
					"loadingTextColor": "White",
					"loadingBgColor": "Black",
					"xParam": 1,
					"yParam": 1,
					"widthParam": 1,
					"heightParam": 1,
					"isUIWindowManager": true,
					"isUIFrames": true,
					"isUIElement": true,
					"hasChildren": true,
					"showHignlight": true,
					"designWidth": 480,
					"designHeight": 720,
					"longPressed": false,
					"soundEffectURLs": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/tangram-jump2.mp3\nosgames1.b0.upaiyun.com/games/YinLijun/Paoku/tangram-over.mp3",
					"soundMusicURLs": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/tangram-music3.mp3",
					"soundMusicAutoPlay": true,
					"soundMusicLoop": true,
					"autoPlayPending": false,
					"style": {
						"lineWidth": 2,
						"lineColor": "Green",
						"fillColor": "#7ecce9",
						"textColor": "Black",
						"fontSize": 24,
						"fontFamily": "serif"
					},
					"events": {
						"onClick": "console.log(\"onClick was triggered\")",
						"onChanged": null
					},
					"images": {
						"display": 2,
						"force-landscape-tips": "cantk-game/assets/images/force_landscape.png",
						"force-portrait-tips": "cantk-game/assets/images/force_portrait.png"
					},
					"children": [
						{
							"type": "ui-scene",
							"name": "win-start",
							"w": 480,
							"h": 720,
							"x": 0,
							"y": 0,
							"text": "",
							"enable": true,
							"visible": true,
							"xAttr": 0,
							"yAttr": 0,
							"widthAttr": 2,
							"heightAttr": 2,
							"uid": 12574,
							"runtimeVisible": true,
							"animHint": "htranslate",
							"xOffset": 0,
							"yOffset": 0,
							"virtualWidth": 0,
							"virtualHeight": 0,
							"autoClearForce": true,
							"xParam": 1,
							"yParam": 1,
							"widthParam": 1,
							"heightParam": 1,
							"isUIScene": true,
							"isUINormalWindow": true,
							"isUIWindow": true,
							"isUIElement": true,
							"hasChildren": true,
							"gravityY": 10,
							"pixelsPerMeter": 100,
							"enablePhysics": true,
							"style": {
								"lineWidth": 2,
								"lineColor": "Orange",
								"fillColor": "White",
								"textColor": "Blue",
								"fontSize": 16,
								"fontFamily": "sans"
							},
							"events": {
								"onClick": null,
								"onSystemInit": null,
								"onLoad": null,
								"onUnload": null,
								"onOpen": null,
								"onBeforeOpen": null,
								"onClose": null,
								"onSwitchToBack": null,
								"onSwitchToFront": null,
								"onGesture": null,
								"onKeyDown": null,
								"onKeyUp": null,
								"onPointerDown": null,
								"onPointerMove": null,
								"onPointerUp": null,
								"onDoubleClick": null,
								"onSwipeLeft": null,
								"onSwipeRight": "var initData = {};\nthis.openWindow(\"win-level\", \n\tfunction (retData) {console.log(\"window closed.\");}, false, initData);\n",
								"onSwipeUp": null,
								"onSwipeDown": null
							},
							"images": {
								"display": 2,
								"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/bg.png"
							},
							"children": [
								{
									"type": "ui-color-button",
									"name": "ui-color-button-iphone",
									"w": 447,
									"h": 367,
									"x": 16,
									"y": 343,
									"text": "点击开始",
									"vTextAlign": "bottom",
									"hTextAlign": "center",
									"hMargin": 5,
									"vMargin": 5,
									"enable": true,
									"visible": true,
									"xAttr": 3,
									"yAttr": 1,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 20818,
									"runtimeVisible": true,
									"roundRadius": 5,
									"xParam": 1,
									"yParam": 10,
									"widthParam": 1,
									"heightParam": 1,
									"isUIColorButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"isUIButton": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "rgba(0,0,0,0)",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "#E7E4E4",
										"fontSize": 25,
										"fontFamily": "bold",
										"activeFillColor": "rgba(0,0,0,0)"
									},
									"events": {
										"onClick": "var initData = {};\nthis.openWindow(\"win-level\", \n\tfunction (retData) {console.log(\"window closed.\");}, true, initData);\n",
										"onUpdateTransform": null
									},
									"images": {
										"display": 2
									}
								},
								{
									"type": "ui-image-button",
									"name": "my-ui-image-button-791",
									"w": 100,
									"h": 100,
									"x": 7,
									"y": 9,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17162,
									"runtimeVisible": true,
									"wMin": 50,
									"hMin": 50,
									"enableAutoScaleFontSize": true,
									"noTextAlignment": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImageButton": true,
									"isUIButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#efefef",
										"textColor": "#008080",
										"fontSize": 16,
										"fontFamily": "serif"
									},
									"events": {
										"onClick": "var initData = {};\nthis.openWindow(\"win-setting\", \n\tfunction (retData) {console.log(\"window closed.\");}, false, initData);\n",
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"normal_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/setting.png",
										"active_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/setting.png"
									}
								},
								{
									"type": "ui-image",
									"name": "ui-icon-iphone",
									"w": 172,
									"h": 127,
									"x": 154,
									"y": 106,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 3,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 20127,
									"runtimeVisible": true,
									"clickable": false,
									"clickedStyleParam": 0.8,
									"clickedStyleType": 0,
									"imageRotation": 0,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImage": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 24,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/logo.png"
									}
								},
								{
									"type": "ui-image",
									"name": "ui-icon-iphone-1",
									"w": 172,
									"h": 127,
									"x": 154,
									"y": 224,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 3,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 20127,
									"runtimeVisible": true,
									"clickable": false,
									"clickedStyleParam": 0.8,
									"clickedStyleType": 0,
									"imageRotation": 0,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImage": true,
									"isUIElement": true,
									"hasChildren": true,
									"locked": false,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 24,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": "var initData = {};\nthis.openWindow(\"win-level\", \n\tfunction (retData) {console.log(\"window closed.\");}, true, initData);\n",
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/zhongdian.png"
									}
								}
							]
						},
						{
							"type": "ui-dialog",
							"name": "win-dead",
							"w": 480,
							"h": 720,
							"x": 0,
							"y": 0,
							"text": "",
							"enable": true,
							"visible": true,
							"xAttr": 3,
							"yAttr": 3,
							"widthAttr": 2,
							"heightAttr": 2,
							"uid": 11662,
							"runtimeVisible": true,
							"animHint": "scale",
							"xParam": 1,
							"yParam": 1,
							"widthParam": 1,
							"heightParam": 1,
							"hasChildren": true,
							"heightScaleMin": 300,
							"heightScaleMax": 800,
							"sUIPopupWindow": true,
							"isUIDialog": true,
							"isUIWindow": true,
							"isUIElement": true,
							"isUIPopupWindow": true,
							"longPressed": false,
							"style": {
								"lineWidth": 2,
								"lineColor": "Green",
								"fillColor": "rgba(0,0,0,0)",
								"textColor": "Black",
								"fontSize": 16,
								"fontFamily": "serif"
							},
							"events": {
								"onClick": null,
								"onSystemInit": null,
								"onLoad": null,
								"onUnload": null,
								"onOpen": "console.log(\"onOpen was triggered\")",
								"onBeforeOpen": "//initData = window.mrjumpResult;\nvar percentage = initData.percentage;\nvar tryingcount = initData.tryingcount;\nvar jumpcount = initData.jumpcount;\n\n\nvar win = this.getWindow();\nwin.gameWinStr = initData.gameWinStr;\nif(percentage < 100) {\n    win.find(\"percentage\", true).setText(percentage + \"%\");\n} else {\n    win.find(\"percentage\", true).setText(\"通关！\");\n}\nwin.find(\"tryingcount\", true).setText(\"尝试\" + tryingcount + \"次\");\nwin.find(\"jumpcount\", true).setText(\"第\" + jumpcount + \"次跳\");\n\nwx.onMenuShareTimeline({ //分享到朋友圈\n\ttitle: \"史上最虐心小红帽\", \n\timgUrl: \"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/114.png\"\n});\nwx.onMenuShareAppMessage({ //发送给朋友\n\t\ttitle: \"史上最虐心小红帽\",\n\t\tdesc: \"我差点通关了，你也来一起玩吧！\",\n\t\timgUrl: \"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/114.png\"\n});\nwx.onMenuShareQQ({\n\ttitle: \"史上最虐心小红帽\",\n\tdesc: \"我差点就通关了，你也来一起玩吧！\",\n\timgUrl: \"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/114.png\"\n});   ",
								"onClose": "console.log(\"onClose was triggered\")",
								"onSwitchToBack": null,
								"onSwitchToFront": null,
								"onGesture": "console.log(\"onGesture was triggered\")",
								"onKeyDown": null,
								"onKeyUp": null
							},
							"images": {
								"display": 2
							},
							"children": [
								{
									"type": "ui-color-tile",
									"name": "ui-color-tile-iphone",
									"w": 480,
									"h": 720,
									"x": 0,
									"y": 0,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"opacity": 0.1,
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 2,
									"heightAttr": 2,
									"uid": 22727,
									"runtimeVisible": true,
									"roundRadius": 0,
									"isUIButton": false,
									"isUIColorButton": false,
									"isUIColorTile": true,
									"enableAutoScaleFontSize": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#ffffff",
										"fillColor": "#ffffff",
										"textColor": "#ffffff",
										"fontSize": 19,
										"fontFamily": "serif",
										"textB": true
									},
									"events": {
										"onClick": null,
										"onUpdateTransform": null
									},
									"images": {
										"display": 2
									},
									"children": [
										{
											"type": "ui-label",
											"name": "percentage",
											"w": 224,
											"h": 95,
											"x": 26,
											"y": 385,
											"text": "百分比",
											"vTextAlign": "middle",
											"hTextAlign": "center",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 20829,
											"runtimeVisible": true,
											"autoAdjustHeight": false,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUILabel": true,
											"isUIElement": true,
											"hasChildren": true,
											"ANIM_OLD_OUT": 1,
											"ANIM_NEW_IN": 3,
											"style": {
												"lineWidth": 2,
												"lineColor": "Red",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "#ffffff",
												"fontSize": 60,
												"fontFamily": "serif",
												"textB": true
											},
											"events": {
												"onClick": null,
												"onChanged": null,
												"onUpdateTransform": null
											},
											"images": {
												"display": 2
											}
										},
										{
											"type": "ui-label",
											"name": "tryingcount",
											"w": 148,
											"h": 54,
											"x": 122,
											"y": 512,
											"text": "尝试#3次",
											"vTextAlign": "middle",
											"hTextAlign": "center",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 20830,
											"runtimeVisible": true,
											"autoAdjustHeight": false,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUILabel": true,
											"isUIElement": true,
											"hasChildren": true,
											"ANIM_OLD_OUT": 1,
											"ANIM_NEW_IN": 3,
											"style": {
												"lineWidth": 2,
												"lineColor": "Red",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "#ffffff",
												"fontSize": 25,
												"fontFamily": "serif"
											},
											"events": {
												"onClick": null,
												"onChanged": null,
												"onUpdateTransform": null
											},
											"images": {
												"display": 2
											}
										},
										{
											"type": "ui-label",
											"name": "jumpcount",
											"w": 148,
											"h": 54,
											"x": 177,
											"y": 594,
											"text": "第10次跳",
											"vTextAlign": "middle",
											"hTextAlign": "center",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 20830,
											"runtimeVisible": true,
											"autoAdjustHeight": false,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUILabel": true,
											"isUIElement": true,
											"hasChildren": true,
											"ANIM_OLD_OUT": 1,
											"ANIM_NEW_IN": 3,
											"style": {
												"lineWidth": 2,
												"lineColor": "Red",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "#ffffff",
												"fontSize": 25,
												"fontFamily": "serif"
											},
											"events": {
												"onClick": null,
												"onChanged": null,
												"onUpdateTransform": null
											},
											"images": {
												"display": 2
											}
										},
										{
											"type": "ui-weixin",
											"name": "ui-weixin-general",
											"w": 72,
											"h": 72,
											"x": 264,
											"y": 71,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 12310,
											"runtimeVisible": false,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"configURL": "",
											"longPressed": false,
											"isUIWeixin": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "Orange",
												"fillColor": "White",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0,
												"default_bg": "images/logos/weixin-64.png"
											}
										},
										{
											"type": "ui-image",
											"name": "ui-icon-general",
											"w": 100,
											"h": 100,
											"x": 360,
											"y": 595,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 20127,
											"runtimeVisible": true,
											"clickable": false,
											"clickedStyleParam": 0.8,
											"clickedStyleType": 0,
											"imageRotation": 0,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIImage": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "Orange",
												"fillColor": "White",
												"textColor": "Blue",
												"fontSize": 24,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": "var win = this.getWindow();\nfunction toggleVisible(e) {\n    if(e.isUIButton || e.isUILabel) {\n        e.setVisible(!e.isVisible());\n    }\n}\nwin.getChildren().forEach(toggleVisible);\nwin.find(\"ui-color-tile-iphone\").forEach(toggleVisible);",
												"onUpdateTransform": null
											},
											"images": {
												"display": 0,
												"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/eye.png"
											}
										}
									]
								},
								{
									"type": "ui-image-button",
									"name": "ui-image-button-iphone",
									"w": 100,
									"h": 100,
									"x": 81,
									"y": 270,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17162,
									"runtimeVisible": true,
									"wMin": 50,
									"hMin": 50,
									"enableAutoScaleFontSize": true,
									"noTextAlignment": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImageButton": true,
									"isUIButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#efefef",
										"textColor": "#008080",
										"fontSize": 16,
										"fontFamily": "serif"
									},
									"events": {
										"onClick": "\nvar initData = {};\nthis.openWindow(\"win-start\", \n\tfunction (retData) {console.log(\"window closed.\");}, true, initData);\n",
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"normal_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/dead_close.png",
										"active_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/dead_close_down.png"
									}
								},
								{
									"type": "ui-image-button",
									"name": "ui-image-button-iphone-1",
									"w": 100,
									"h": 100,
									"x": 200,
									"y": 236,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17162,
									"runtimeVisible": true,
									"wMin": 50,
									"hMin": 50,
									"enableAutoScaleFontSize": true,
									"noTextAlignment": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImageButton": true,
									"isUIButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"longPressed": false,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#efefef",
										"textColor": "#008080",
										"fontSize": 16,
										"fontFamily": "serif"
									},
									"events": {
										"onClick": "var initData = {};\nthis.openWindow(this.getWindow().gameWinStr, \n\tfunction (retData) {console.log(\"window closed.\");}, true, initData, {closeOldIfOpened:true});\n",
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"normal_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/replay.png",
										"active_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/replay_down.png"
									}
								},
								{
									"type": "ui-image-button",
									"name": "ui-image-button-iphone-2",
									"w": 100,
									"h": 100,
									"x": 320,
									"y": 269,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17162,
									"runtimeVisible": true,
									"wMin": 50,
									"hMin": 50,
									"enableAutoScaleFontSize": true,
									"noTextAlignment": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImageButton": true,
									"isUIButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"longPressed": false,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#efefef",
										"textColor": "#008080",
										"fontSize": 16,
										"fontFamily": "serif"
									},
									"events": {
										"onClick": "var initData = {};\nthis.openWindow(\"win-share\", \n\tfunction (retData) {console.log(\"window closed.\");}, false, initData);\n",
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"normal_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/weixin1.png",
										"active_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/weixin2.png"
									}
								}
							]
						},
						{
							"type": "ui-dialog",
							"name": "win-setting",
							"w": 480,
							"h": 720,
							"x": 0,
							"y": 0,
							"text": "",
							"enable": true,
							"visible": true,
							"xAttr": 3,
							"yAttr": 3,
							"widthAttr": 2,
							"heightAttr": 2,
							"uid": 11662,
							"runtimeVisible": true,
							"animHint": "vtranslate",
							"xParam": 1,
							"yParam": 1,
							"widthParam": 1,
							"heightParam": 1,
							"hasChildren": true,
							"heightScaleMin": 300,
							"heightScaleMax": 800,
							"sUIPopupWindow": true,
							"isUIDialog": true,
							"isUIWindow": true,
							"isUIElement": true,
							"isUIPopupWindow": true,
							"longPressed": false,
							"style": {
								"lineWidth": 2,
								"lineColor": "Green",
								"fillColor": "rgba(0,0,0,0)",
								"textColor": "Black",
								"fontSize": 16,
								"fontFamily": "serif"
							},
							"events": {
								"onClick": null,
								"onSystemInit": null,
								"onLoad": null,
								"onUnload": null,
								"onOpen": "",
								"onBeforeOpen": "if(typeof window.mrjumpGame.musicon === \"undefined\") {\n    window.mrjumpGame.musicon = true;\n}\nif(typeof window.mrjumpGame.effecton === \"undefined\") {\n    window.mrjumpGame.effecton = true;\n}\nvar win = this;\nvar setBtn = function() {\n    win.find(\"btn-music-on\").setVisible(window.mrjumpGame.musicon);\n    win.find(\"btn-music-off\").setVisible(!window.mrjumpGame.musicon);\n    win.find(\"btn-effect-on\").setVisible(window.mrjumpGame.effecton);\n    win.find(\"btn-effect-off\").setVisible(!window.mrjumpGame.effecton);\n    \n    if(window.mrjumpGame.musicon) {\n        win.playSoundMusic(\"tangram-music3.mp3\");\n    } else {\n        win.stopSoundMusic(\"tangram-music3.mp3\");\n    }\n    \n    win.getWindowManager().setSoundEffectsEnable(window.mrjumpGame.effecton);\n};\nwin.toggleMusic = function() {\n    var on = window.mrjumpGame.musicon;\n    window.mrjumpGame.musicon = !on;\n    setBtn();\n};\nwin.toggleEffect = function() {\n    var on = window.mrjumpGame.effecton;\n    window.mrjumpGame.effecton = !on;\n    setBtn();\n};\nsetBtn();",
								"onClose": "console.log(\"onClose was triggered\")",
								"onSwitchToBack": null,
								"onSwitchToFront": null,
								"onGesture": "console.log(\"onGesture was triggered\")",
								"onKeyDown": null,
								"onKeyUp": null
							},
							"images": {
								"display": 2
							},
							"children": [
								{
									"type": "ui-color-tile",
									"name": "ui-color-tile-iphone",
									"w": 480,
									"h": 720,
									"x": 0,
									"y": 0,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 2,
									"heightAttr": 2,
									"uid": 22727,
									"runtimeVisible": true,
									"roundRadius": 0,
									"isUIButton": false,
									"isUIColorButton": false,
									"isUIColorTile": true,
									"enableAutoScaleFontSize": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#ffffff",
										"fillColor": "#ffffff",
										"textColor": "#ffffff",
										"fontSize": 19,
										"fontFamily": "serif",
										"textB": true
									},
									"events": {
										"onClick": null,
										"onUpdateTransform": null
									},
									"images": {
										"display": 2
									}
								},
								{
									"type": "ui-image-button",
									"name": "btn-effect-on",
									"w": 100,
									"h": 100,
									"x": 146,
									"y": 217,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17162,
									"runtimeVisible": true,
									"wMin": 50,
									"hMin": 50,
									"enableAutoScaleFontSize": true,
									"noTextAlignment": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImageButton": true,
									"isUIButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#efefef",
										"textColor": "#008080",
										"fontSize": 16,
										"fontFamily": "serif"
									},
									"events": {
										"onClick": "this.getWindow().toggleEffect();",
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"normal_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4effecton.png",
										"active_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4effecton-down.png"
									}
								},
								{
									"type": "ui-image-button",
									"name": "ui-image-button-iphone-1",
									"w": 100,
									"h": 100,
									"x": 352,
									"y": 13,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17162,
									"runtimeVisible": true,
									"wMin": 50,
									"hMin": 50,
									"enableAutoScaleFontSize": true,
									"noTextAlignment": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImageButton": true,
									"isUIButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#efefef",
										"textColor": "#008080",
										"fontSize": 16,
										"fontFamily": "serif"
									},
									"events": {
										"onClick": "var retData = {};\nthis.closeWindow(retData);\n",
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"normal_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4dead.png",
										"active_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4dead-down.png"
									}
								},
								{
									"type": "ui-image-button",
									"name": "btn-music-on",
									"w": 100,
									"h": 100,
									"x": 257,
									"y": 212,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17162,
									"runtimeVisible": true,
									"wMin": 50,
									"hMin": 50,
									"enableAutoScaleFontSize": true,
									"noTextAlignment": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImageButton": true,
									"isUIButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#efefef",
										"textColor": "#008080",
										"fontSize": 16,
										"fontFamily": "serif"
									},
									"events": {
										"onClick": "this.getWindow().toggleMusic();",
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"normal_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4musicon.png",
										"active_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4musicon-down.png"
									}
								},
								{
									"type": "ui-image-button",
									"name": "ui-image-button-iphone-4",
									"w": 100,
									"h": 100,
									"x": 142,
									"y": 329,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17162,
									"runtimeVisible": true,
									"wMin": 50,
									"hMin": 50,
									"enableAutoScaleFontSize": true,
									"noTextAlignment": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImageButton": true,
									"isUIButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#efefef",
										"textColor": "#008080",
										"fontSize": 16,
										"fontFamily": "serif"
									},
									"events": {
										"onClick": "var initData = {};\nthis.openWindow(\"win-help\", \n\tfunction (retData) {console.log(\"window closed.\");}, false, initData);\n",
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"normal_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4help.png",
										"active_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4help-down.png"
									}
								},
								{
									"type": "ui-image-button",
									"name": "ui-image-button-iphone-5",
									"w": 100,
									"h": 100,
									"x": 260,
									"y": 332,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17162,
									"runtimeVisible": true,
									"wMin": 50,
									"hMin": 50,
									"enableAutoScaleFontSize": true,
									"noTextAlignment": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImageButton": true,
									"isUIButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#efefef",
										"textColor": "#008080",
										"fontSize": 16,
										"fontFamily": "serif"
									},
									"events": {
										"onClick": null,
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"normal_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4rank.png",
										"active_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4rank-down.png"
									}
								},
								{
									"type": "ui-image-button",
									"name": "btn-effect-off",
									"w": 100,
									"h": 100,
									"x": 147,
									"y": 216,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17162,
									"runtimeVisible": true,
									"wMin": 50,
									"hMin": 50,
									"enableAutoScaleFontSize": true,
									"noTextAlignment": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImageButton": true,
									"isUIButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"locked": false,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#efefef",
										"textColor": "#008080",
										"fontSize": 16,
										"fontFamily": "serif"
									},
									"events": {
										"onClick": "this.getWindow().toggleEffect();",
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"normal_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4effectoff.png",
										"active_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4effectoff-down.png"
									}
								},
								{
									"type": "ui-image-button",
									"name": "btn-music-off",
									"w": 100,
									"h": 100,
									"x": 257,
									"y": 215,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17162,
									"runtimeVisible": true,
									"wMin": 50,
									"hMin": 50,
									"enableAutoScaleFontSize": true,
									"noTextAlignment": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImageButton": true,
									"isUIButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"locked": false,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#efefef",
										"textColor": "#008080",
										"fontSize": 16,
										"fontFamily": "serif"
									},
									"events": {
										"onClick": "this.getWindow().toggleMusic()",
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"normal_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4musicoff.png",
										"active_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4musicoff-down.png"
									}
								}
							]
						},
						{
							"type": "ui-scene",
							"name": "win-level",
							"w": 480,
							"h": 720,
							"x": 0,
							"y": 0,
							"text": "",
							"enable": true,
							"visible": true,
							"xAttr": 0,
							"yAttr": 0,
							"widthAttr": 2,
							"heightAttr": 2,
							"uid": 12574,
							"runtimeVisible": true,
							"animHint": "htranslate",
							"xOffset": 0,
							"yOffset": 0,
							"virtualWidth": 0,
							"virtualHeight": 0,
							"autoClearForce": true,
							"xParam": 1,
							"yParam": 1,
							"widthParam": 1,
							"heightParam": 1,
							"isUIScene": true,
							"isUINormalWindow": true,
							"isUIWindow": true,
							"isUIElement": true,
							"hasChildren": true,
							"gravityY": 10,
							"pixelsPerMeter": 100,
							"enablePhysics": true,
							"deviceConfig": "{\"name\":\"Device-General\",\"bg\":\"/drawapp8/images/device-general.png\",\"platform\":\"android\",\"version\":\"5\",\"lcdDensity\":\"hdpi\",\"width\":560,\"height\":798,\"screenX\":38,\"screenY\":83,\"screenW\":480,\"screenH\":720}",
							"longPressed": false,
							"playing": true,
							"style": {
								"lineWidth": 2,
								"lineColor": "Orange",
								"fillColor": "White",
								"textColor": "Blue",
								"fontSize": 16,
								"fontFamily": "sans"
							},
							"events": {
								"onClick": null,
								"onSystemInit": null,
								"onLoad": null,
								"onUnload": null,
								"onOpen": null,
								"onBeforeOpen": null,
								"onClose": null,
								"onSwitchToBack": null,
								"onSwitchToFront": null,
								"onGesture": null,
								"onKeyDown": null,
								"onKeyUp": null,
								"onPointerDown": null,
								"onPointerMove": null,
								"onPointerUp": null,
								"onDoubleClick": null,
								"onSwipeLeft": null,
								"onSwipeRight": "",
								"onSwipeUp": null,
								"onSwipeDown": null
							},
							"images": {
								"display": 3
							},
							"children": [
								{
									"type": "ui-list-view",
									"name": "ui-list-view-iphone",
									"w": 480,
									"h": 720,
									"x": 0,
									"y": 0,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 6,
									"widthAttr": 2,
									"heightAttr": 3,
									"uid": 15433,
									"runtimeVisible": true,
									"wMin": 100,
									"wMax": 2000,
									"hMin": 100,
									"hMax": 2000,
									"itemHeight": 78,
									"itemHeightVariable": false,
									"offset": 0,
									"scrollBarOpacity": 0,
									"scrollable": "always",
									"updateStatus": 0,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIListView": true,
									"isUIVScrollView": true,
									"isUIScrollView": true,
									"isUIElement": true,
									"hasChildren": true,
									"isUIList": true,
									"isUILayout": true,
									"longPressed": false,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#f0f0f0",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "serif",
										"enableShadow": true,
										"shadow": {
											"x": 0,
											"y": 0,
											"blur": 8,
											"color": "Black"
										}
									},
									"events": {
										"onClick": null,
										"onUpdateData": null,
										"onScrollOutOfRange": null
									},
									"images": {
										"display": 2,
										"scrollBarImg": "drawapp8/images/theme/default/any/scrollbar.png"
									},
									"children": [
										{
											"type": "ui-list-item",
											"name": "ui-list-item",
											"w": 480,
											"h": 269,
											"x": 0,
											"y": 0,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 2,
											"heightAttr": 0,
											"uid": 15434,
											"runtimeVisible": true,
											"autoAdjustHeight": false,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIListItem": true,
											"isUIElement": true,
											"hasChildren": true,
											"ANIM_DRAW_LINE": 1,
											"heightVariable": true,
											"longPressed": false,
											"style": {
												"lineWidth": 2,
												"lineColor": "rgba(0,0,0,0)",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "rgba(0,0,0,0)",
												"fontSize": 16,
												"fontFamily": "serif"
											},
											"events": {
												"onClick": "var initData = {};\nthis.openWindow(\"level-1\", \n\tfunction (retData) {console.log(\"window closed.\");}, true, initData, {closeOldIfOpened:true});\n",
												"onLongPress": null,
												"onRemoved": null
											},
											"images": {
												"display": 4
											},
											"children": [
												{
													"type": "ui-sprite",
													"name": "ui-sprite-general",
													"w": 480,
													"h": 269,
													"x": 0,
													"y": 0,
													"text": "",
													"enable": true,
													"visible": true,
													"xAttr": 0,
													"yAttr": 0,
													"widthAttr": 2,
													"heightAttr": 2,
													"uid": 11327,
													"runtimeVisible": true,
													"xParam": 1,
													"yParam": 1,
													"widthParam": 1,
													"heightParam": 1,
													"isUISprite": true,
													"isUIElement": true,
													"hasChildren": true,
													"density": 1,
													"friction": 0.5,
													"restitution": 0.5,
													"style": {
														"lineWidth": 2,
														"lineColor": "#7d471b",
														"fillColor": "White",
														"textColor": "Blue",
														"fontSize": 16,
														"fontFamily": "sans"
													},
													"events": {
														"onClick": null,
														"onDoubleClick": null,
														"onUpdateTransform": null
													},
													"images": {
														"display": 4,
														"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/level1.png"
													}
												},
												{
													"type": "ui-image",
													"name": "man",
													"w": 100,
													"h": 100,
													"x": 190,
													"y": 84,
													"text": "",
													"enable": true,
													"visible": true,
													"xAttr": 3,
													"yAttr": 3,
													"widthAttr": 0,
													"heightAttr": 0,
													"uid": 20127,
													"runtimeVisible": true,
													"clickable": false,
													"clickedStyleParam": 0.8,
													"clickedStyleType": 0,
													"imageRotation": 0,
													"xParam": 1,
													"yParam": 1,
													"widthParam": 1,
													"heightParam": 1,
													"isUIImage": true,
													"isUIElement": true,
													"hasChildren": true,
													"style": {
														"lineWidth": 2,
														"lineColor": "Orange",
														"fillColor": "White",
														"textColor": "Blue",
														"fontSize": 24,
														"fontFamily": "sans"
													},
													"events": {
														"onClick": null,
														"onUpdateTransform": null
													},
													"images": {
														"display": 0,
														"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/man1.png"
													}
												},
												{
													"type": "ui-image",
													"name": "ui-icon-iphone-1",
													"w": 100,
													"h": 100,
													"x": 190,
													"y": 0,
													"text": "",
													"enable": true,
													"visible": true,
													"xAttr": 3,
													"yAttr": 4,
													"widthAttr": 0,
													"heightAttr": 0,
													"uid": 20127,
													"runtimeVisible": true,
													"clickable": false,
													"clickedStyleParam": 0.8,
													"clickedStyleType": 0,
													"imageRotation": 0,
													"xParam": 1,
													"yParam": 1,
													"widthParam": 1,
													"heightParam": 1,
													"isUIImage": true,
													"isUIElement": true,
													"hasChildren": true,
													"locked": false,
													"style": {
														"lineWidth": 2,
														"lineColor": "Orange",
														"fillColor": "White",
														"textColor": "Blue",
														"fontSize": 24,
														"fontFamily": "sans"
													},
													"events": {
														"onClick": null,
														"onUpdateTransform": null
													},
													"images": {
														"display": 0,
														"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/food1.png"
													}
												}
											]
										},
										{
											"type": "ui-list-item",
											"name": "ui-list-item-1",
											"w": 480,
											"h": 269,
											"x": 0,
											"y": 269,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 2,
											"heightAttr": 0,
											"uid": 15434,
											"runtimeVisible": true,
											"autoAdjustHeight": false,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIListItem": true,
											"isUIElement": true,
											"hasChildren": true,
											"ANIM_DRAW_LINE": 1,
											"heightVariable": true,
											"longPressed": false,
											"locked": false,
											"style": {
												"lineWidth": 2,
												"lineColor": "rgba(0,0,0,0)",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "rgba(0,0,0,0)",
												"fontSize": 16,
												"fontFamily": "serif"
											},
											"events": {
												"onClick": "var initData = {};\nthis.openWindow(\"level-2\", \n\tfunction (retData) {console.log(\"window closed.\");}, true, initData, {closeOldIfOpened:true});\n",
												"onLongPress": null,
												"onRemoved": null
											},
											"images": {
												"display": 4
											},
											"children": [
												{
													"type": "ui-sprite",
													"name": "ui-sprite-general",
													"w": 480,
													"h": 269,
													"x": 0,
													"y": 0,
													"text": "",
													"enable": true,
													"visible": true,
													"xAttr": 0,
													"yAttr": 0,
													"widthAttr": 2,
													"heightAttr": 2,
													"uid": 11327,
													"runtimeVisible": true,
													"xParam": 1,
													"yParam": 1,
													"widthParam": 1,
													"heightParam": 1,
													"isUISprite": true,
													"isUIElement": true,
													"hasChildren": true,
													"density": 1,
													"friction": 0.5,
													"restitution": 0.5,
													"style": {
														"lineWidth": 2,
														"lineColor": "#7d471b",
														"fillColor": "White",
														"textColor": "Blue",
														"fontSize": 16,
														"fontFamily": "sans"
													},
													"events": {
														"onClick": null,
														"onDoubleClick": null,
														"onUpdateTransform": null
													},
													"images": {
														"display": 4,
														"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/level2.png"
													}
												},
												{
													"type": "ui-image",
													"name": "my-ui-image-993",
													"w": 100,
													"h": 100,
													"x": 190,
													"y": 84,
													"text": "",
													"enable": true,
													"visible": true,
													"xAttr": 3,
													"yAttr": 3,
													"widthAttr": 0,
													"heightAttr": 0,
													"uid": 20127,
													"runtimeVisible": true,
													"clickable": false,
													"clickedStyleParam": 0.8,
													"clickedStyleType": 0,
													"imageRotation": 0,
													"xParam": 1,
													"yParam": 1,
													"widthParam": 1,
													"heightParam": 1,
													"isUIImage": true,
													"isUIElement": true,
													"hasChildren": true,
													"style": {
														"lineWidth": 2,
														"lineColor": "Orange",
														"fillColor": "White",
														"textColor": "Blue",
														"fontSize": 24,
														"fontFamily": "sans"
													},
													"events": {
														"onClick": null,
														"onUpdateTransform": null
													},
													"images": {
														"display": 0,
														"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/man2.png"
													}
												},
												{
													"type": "ui-image",
													"name": "my-ui-image-96",
													"w": 100,
													"h": 100,
													"x": 190,
													"y": 0,
													"text": "",
													"enable": true,
													"visible": true,
													"xAttr": 3,
													"yAttr": 4,
													"widthAttr": 0,
													"heightAttr": 0,
													"uid": 20127,
													"runtimeVisible": true,
													"clickable": false,
													"clickedStyleParam": 0.8,
													"clickedStyleType": 0,
													"imageRotation": 0,
													"xParam": 1,
													"yParam": 1,
													"widthParam": 1,
													"heightParam": 1,
													"isUIImage": true,
													"isUIElement": true,
													"hasChildren": true,
													"locked": false,
													"style": {
														"lineWidth": 2,
														"lineColor": "Orange",
														"fillColor": "White",
														"textColor": "Blue",
														"fontSize": 24,
														"fontFamily": "sans"
													},
													"events": {
														"onClick": null,
														"onUpdateTransform": null
													},
													"images": {
														"display": 0,
														"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/food1.png"
													}
												}
											]
										},
										{
											"type": "ui-list-item",
											"name": "ui-list-item-2",
											"w": 480,
											"h": 269,
											"x": 0,
											"y": 538,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 2,
											"heightAttr": 0,
											"uid": 15434,
											"runtimeVisible": true,
											"autoAdjustHeight": false,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIListItem": true,
											"isUIElement": true,
											"hasChildren": true,
											"ANIM_DRAW_LINE": 1,
											"heightVariable": true,
											"longPressed": false,
											"locked": false,
											"style": {
												"lineWidth": 2,
												"lineColor": "rgba(0,0,0,0)",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "rgba(0,0,0,0)",
												"fontSize": 16,
												"fontFamily": "serif"
											},
											"events": {
												"onClick": "var initData = {};\nthis.openWindow(\"level-3\", \n\tfunction (retData) {console.log(\"window closed.\");}, true, initData, {closeOldIfOpened:true});\n",
												"onLongPress": null,
												"onRemoved": null
											},
											"images": {
												"display": 4
											},
											"children": [
												{
													"type": "ui-sprite",
													"name": "ui-sprite-general",
													"w": 480,
													"h": 269,
													"x": 0,
													"y": 0,
													"text": "",
													"enable": true,
													"visible": true,
													"xAttr": 0,
													"yAttr": 0,
													"widthAttr": 2,
													"heightAttr": 2,
													"uid": 11327,
													"runtimeVisible": true,
													"xParam": 1,
													"yParam": 1,
													"widthParam": 1,
													"heightParam": 1,
													"isUISprite": true,
													"isUIElement": true,
													"hasChildren": true,
													"density": 1,
													"friction": 0.5,
													"restitution": 0.5,
													"style": {
														"lineWidth": 2,
														"lineColor": "#7d471b",
														"fillColor": "White",
														"textColor": "Blue",
														"fontSize": 16,
														"fontFamily": "sans"
													},
													"events": {
														"onClick": null,
														"onDoubleClick": null,
														"onUpdateTransform": null
													},
													"images": {
														"display": 4,
														"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/level3.png"
													}
												},
												{
													"type": "ui-image",
													"name": "my-ui-image-993",
													"w": 100,
													"h": 100,
													"x": 190,
													"y": 84,
													"text": "",
													"enable": true,
													"visible": true,
													"xAttr": 3,
													"yAttr": 3,
													"widthAttr": 0,
													"heightAttr": 0,
													"uid": 20127,
													"runtimeVisible": true,
													"clickable": false,
													"clickedStyleParam": 0.8,
													"clickedStyleType": 0,
													"imageRotation": 0,
													"xParam": 1,
													"yParam": 1,
													"widthParam": 1,
													"heightParam": 1,
													"isUIImage": true,
													"isUIElement": true,
													"hasChildren": true,
													"style": {
														"lineWidth": 2,
														"lineColor": "Orange",
														"fillColor": "White",
														"textColor": "Blue",
														"fontSize": 24,
														"fontFamily": "sans"
													},
													"events": {
														"onClick": null,
														"onUpdateTransform": null
													},
													"images": {
														"display": 0,
														"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/man1.png"
													}
												},
												{
													"type": "ui-image",
													"name": "my-ui-image-96",
													"w": 100,
													"h": 100,
													"x": 190,
													"y": 0,
													"text": "",
													"enable": true,
													"visible": true,
													"xAttr": 3,
													"yAttr": 4,
													"widthAttr": 0,
													"heightAttr": 0,
													"uid": 20127,
													"runtimeVisible": true,
													"clickable": false,
													"clickedStyleParam": 0.8,
													"clickedStyleType": 0,
													"imageRotation": 0,
													"xParam": 1,
													"yParam": 1,
													"widthParam": 1,
													"heightParam": 1,
													"isUIImage": true,
													"isUIElement": true,
													"hasChildren": true,
													"locked": false,
													"style": {
														"lineWidth": 2,
														"lineColor": "Orange",
														"fillColor": "White",
														"textColor": "Blue",
														"fontSize": 24,
														"fontFamily": "sans"
													},
													"events": {
														"onClick": null,
														"onUpdateTransform": null
													},
													"images": {
														"display": 0,
														"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/food2.png"
													}
												}
											]
										},
										{
											"type": "ui-list-item",
											"name": "ui-list-item-3",
											"w": 480,
											"h": 269,
											"x": 0,
											"y": 807,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 2,
											"heightAttr": 0,
											"uid": 15434,
											"runtimeVisible": true,
											"autoAdjustHeight": false,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIListItem": true,
											"isUIElement": true,
											"hasChildren": true,
											"ANIM_DRAW_LINE": 1,
											"heightVariable": true,
											"longPressed": false,
											"locked": false,
											"style": {
												"lineWidth": 2,
												"lineColor": "rgba(0,0,0,0)",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "rgba(0,0,0,0)",
												"fontSize": 16,
												"fontFamily": "serif"
											},
											"events": {
												"onClick": "",
												"onLongPress": null,
												"onRemoved": null
											},
											"images": {
												"display": 4
											},
											"children": [
												{
													"type": "ui-sprite",
													"name": "ui-sprite-general-1",
													"w": 480,
													"h": 269,
													"x": 0,
													"y": 0,
													"text": "",
													"opacity": 0.6,
													"enable": true,
													"visible": true,
													"xAttr": 0,
													"yAttr": 0,
													"widthAttr": 2,
													"heightAttr": 2,
													"uid": 11327,
													"runtimeVisible": true,
													"xParam": 1,
													"yParam": 1,
													"widthParam": 1,
													"heightParam": 1,
													"isUISprite": true,
													"isUIElement": true,
													"hasChildren": true,
													"density": 1,
													"friction": 0.5,
													"restitution": 0.5,
													"locked": false,
													"style": {
														"lineWidth": 2,
														"lineColor": "#7d471b",
														"fillColor": "White",
														"textColor": "Blue",
														"fontSize": 16,
														"fontFamily": "sans"
													},
													"events": {
														"onClick": null,
														"onDoubleClick": null,
														"onUpdateTransform": null
													},
													"images": {
														"display": 4,
														"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/mask.png"
													}
												},
												{
													"type": "ui-label",
													"name": "ui-label-iphone",
													"w": 271,
													"h": 94,
													"x": 104,
													"y": 87,
													"text": "更多关卡，敬请期待",
													"vTextAlign": "middle",
													"hTextAlign": "center",
													"enable": true,
													"visible": true,
													"xAttr": 3,
													"yAttr": 3,
													"widthAttr": 0,
													"heightAttr": 0,
													"uid": 11434,
													"runtimeVisible": true,
													"autoAdjustHeight": false,
													"xParam": 1,
													"yParam": 1,
													"widthParam": 1,
													"heightParam": 1,
													"isUILabel": true,
													"isUIElement": true,
													"hasChildren": true,
													"ANIM_OLD_OUT": 1,
													"ANIM_NEW_IN": 3,
													"style": {
														"lineWidth": 2,
														"lineColor": "Red",
														"fillColor": "rgba(0,0,0,0)",
														"textColor": "#A49898",
														"fontSize": 25,
														"fontFamily": "serif"
													},
													"events": {
														"onClick": "this.setText(\"说了还没做出来，还点，还点...\");\nvar initData = {};\nthis.openWindow(\"level-110\", \n\tfunction (retData) {console.log(\"window closed.\");}, false, initData);\n",
														"onChanged": null,
														"onUpdateTransform": null
													},
													"images": {
														"display": 2
													}
												}
											]
										}
									]
								}
							]
						},
						{
							"type": "ui-scene",
							"name": "level-4",
							"w": 480,
							"h": 720,
							"x": 0,
							"y": 0,
							"text": "",
							"enable": true,
							"visible": true,
							"xAttr": 0,
							"yAttr": 0,
							"widthAttr": 2,
							"heightAttr": 2,
							"uid": 16617,
							"runtimeVisible": true,
							"animHint": "none",
							"xOffset": 0,
							"yOffset": 0,
							"virtualWidth": 15600,
							"virtualHeight": 0,
							"autoClearForce": true,
							"xParam": 1,
							"yParam": 1,
							"widthParam": 1,
							"heightParam": 1,
							"isUIScene": true,
							"isUINormalWindow": true,
							"isUIWindow": true,
							"isUIElement": true,
							"hasChildren": true,
							"gravityY": 45,
							"pixelsPerMeter": 100,
							"enablePhysics": true,
							"longPressed": false,
							"fps": 50,
							"showFPS": true,
							"locked": false,
							"style": {
								"lineWidth": 2,
								"lineColor": "#C8C8C8",
								"fillColor": "White",
								"textColor": "Blue",
								"fontSize": 15,
								"fontFamily": "sans"
							},
							"events": {
								"onClick": null,
								"onSystemInit": null,
								"onLoad": null,
								"onUnload": null,
								"onOpen": "var win = this;\n\nvar WIN_H = win.getVirtualHeight();\nvar WIN_W = win.getVirtualWidth();\nvar CLOUD_SIZE = [\n    {w:230, h:50},\n    {w:230, h:55},\n    {w:280, h:60},\n];\nvar MOUNTAIN_SIZE = [\n    {s:300, l:100, h:200},\n    {s:350, l:150, h:300},\n    {s:400, l:200, h:350},\n    {s:550, l:250, h:400},\n    {s:600, l:300, h:450},\n];\n\nvar mountains = [];\nvar clouds = [];\n\nMOUNTAIN_NUM_PER_WIN = 6;\nCLOUD_NUM_PER_WIN = 2;\n\nvar SPRITE_V_X = 5.2;\nvar SPRITE_V_Y = -15;\n\nvar MOVING_TIMER_INTERVAL = 20;\n\nvar LAYER_FAR = 0;\nvar LAYER_MIDDLE = 1;\nvar LAYER_NEAR = 2;\n\nfunction Cloud() {\n    Cloud.layerToColor = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return \"#444444\";\n            case LAYER_MIDDLE:\n                return \"#555555\";\n            case LAYER_FAR:\n                return \"#666666\";\n        }\n    };\n    Cloud.layerToV = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return {x:-0.7 * SPRITE_V_X, y:0};\n            case LAYER_MIDDLE:\n                return {x:-0.6 * SPRITE_V_X, y:0};\n            case LAYER_FAR:\n                return {x:-0.5 * SPRITE_V_X, y:0};\n        }\n    };\n    Cloud.prototype.init = function(x, y, w, h, layer) {\n        this.x = x;\n        this.y = y;\n        this.h = h;\n        this.w = w;\n        this.layer = layer;\n        this.v = {x:0, y:0};\n    };\n    Cloud.prototype.setV = function(v) {\n        this.v = {};\n        this.v.x = v.x ? v.x : 0;\n        this.v.y = v.y ? v.y : 0;\n    };\n    Cloud.prototype.startMove = function() {\n        if(this.timerID) {\n            return;\n        }\n        var cloud = this;\n        this.setV(Cloud.layerToV(this.layer));\n        function onTimer() {\n            cloud.x += cloud.v.x;\n            cloud.y += cloud.v.y;\n        }\n        this.timerID = setInterval(onTimer, MOVING_TIMER_INTERVAL);\n    };\n    Cloud.prototype.stopMove = function() {\n        if(this.timerID) {\n            clearInterval(this.timerID);\n            this.timerID = 0;\n        }\n    };\n}\nfunction Mountain() {\n    Mountain.layerToColor = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return \"#7B1C1C\";\n            case LAYER_MIDDLE:\n                return \"#8C1B1D\";\n            case LAYER_FAR:\n                return \"#8C1B1D\";\n        }\n    };\n    Mountain.layerToV = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return {x:-0.7 * SPRITE_V_X, y:0};\n            case LAYER_MIDDLE:\n                return {x:-0.6 * SPRITE_V_X, y:0};\n            case LAYER_FAR:\n                return {x:-0.5 * SPRITE_V_X, y:0};\n        }\n    };\n    Mountain.prototype.init = function(x, y, s, l, h, layer) {\n        this.x = x;\n        this.y = y;\n        this.s = s; //短边\n        this.l = l;\n        this.h = h;\n        this.layer = layer; //长边\n        this.v = 0;\n    };\n    Mountain.prototype.setV = function(v) {\n        this.v = {};\n        this.v.x = v.x ? v.x : 0;\n        this.v.y = v.y ? v.y : 0;\n    };\n    Mountain.prototype.startMove = function() {\n        if(this.timerID) {\n            return;\n        }\n        var cloud = this;\n        this.setV(Mountain.layerToV(this.layer));\n        function onTimer() {\n            cloud.x += cloud.v.x;\n            cloud.y += cloud.v.y;\n        }\n        this.timerID = setInterval(onTimer, MOVING_TIMER_INTERVAL);\n    };\n    Mountain.prototype.stopMove = function() {\n        if(this.timerID) {\n            clearInterval(this.timerID);\n            this.timerID = 0;\n        }\n    };\n}\n\nfunction makeBgCloud(num, basex) {\n    for(var i = 0; i < num; i++) {\n        var cloud = new Cloud();\n        var size = CLOUD_SIZE[Math.floor(Math.random() * CLOUD_SIZE.length)];\n        cloud.init(basex + Math.random() * win.w, Math.random() * 0.75 * WIN_H, size.w, size.h, Math.floor(Math.random() * LAYER_NEAR));\n        cloud.startMove();\n        clouds.push(cloud);\n    }\n};\nfunction makeBgMountain(num, basex) {\n    for(var i = 0; i < num; i++) {\n        var mountain = new Mountain();\n        var size = MOUNTAIN_SIZE[Math.floor(Math.random() * MOUNTAIN_SIZE.length)];\n        mountain.init(basex + Math.random() * win.w, (0.9 + 0.1 * Math.random())* WIN_H, size.s, size.l, size.h, Math.floor(Math.random() * (LAYER_NEAR + 1)));\n        mountain.startMove();\n        mountains.push(mountain);\n    }\n};\n\nfunction simpleSort(a, b) {\n    return a.x - b.x;\n}\n\nwin.onSpriteMove = function(sprite) {\n    if(window.mrjumpGame.gameOver || mountains.length === 0 || clouds.length === 0) {\n        return;\n    }\n    clouds.sort(simpleSort);\n    mountains.sort(simpleSort);\n    if(mountains[0].x + mountains[0].s < 0) {\n        var m = mountains.shift();\n        m.stopMove();\n    }\n    if(clouds[0].x + clouds[0].w < 0) {\n        var c = clouds.shift();\n        c.stopMove();\n    }\n    if(mountains.length < 2 * MOUNTAIN_NUM_PER_WIN) {\n        makeBgMountain(MOUNTAIN_NUM_PER_WIN, win.w);\n    }\n    if(clouds.length < 2 * CLOUD_NUM_PER_WIN) {\n        makeBgCloud(CLOUD_NUM_PER_WIN, win.w);\n    }\n    var v = sprite.getV();\n    sprite.setV(SPRITE_V_X, v.y);\n};\n\nwin.drawIt = function(ctx) {\n    var sprite = win.find(\"me\");\n    \n    ctx.rect(0,0,win.w,win.h);\n    ctx.clip();\n    \n    //draw bg \n    ctx.fillStyle = \"#A4292B\";\n    ctx.fillRect(0, 0, win.w, win.h);\n\n    //draw clouds\n    function layerToAlpha(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return 0.85;\n            case LAYER_MIDDLE:\n                return 0.65;\n            case LAYER_FAR:\n                return 0.45;\n        }\n    }\n    for(var layer = LAYER_FAR; layer <= LAYER_NEAR; layer++) {\n        ctx.globalAlpha = 1;\n        //draw mountains\n        mountains.forEach(\n            function(e) {\n                if(layer != e.layer || e.x > win.w) {\n                    return;\n                }\n                ctx.beginPath();\n                ctx.moveTo(e.x, e.y);\n                ctx.lineTo(e.x + (e.s - e.l) * 0.5, e.y - e.h);\n                ctx.lineTo(e.x + (e.s + e.l) * 0.5, e.y - e.h);\n                ctx.lineTo(e.x + e.s, e.y),\n                ctx.lineTo(e.x, e.y);\n                ctx.closePath();\n                ctx.fillStyle = Mountain.layerToColor(e.layer);\n                ctx.fill();\n            }\n        );\n        clouds.forEach(\n            function(e) {\n                if(layer != e.layer || e.x > win.w) {\n                    return;\n                }\n                var x = e.x;\n                var y = e.y;\n                var w = e.w;\n                var h = e.h;\n                if(x < 0) {\n                    w = e.w + x;\n                    x = 0;\n                }\n                if(x + w > win.w) {\n                    w = win.w - x;\n                }\n                var alp = layerToAlpha(e.layer);\n                ctx.globalAlpha = alp;\n                ctx.fillStyle = \"5D2020\";\n                //ctx.fillRect(e.x, e.y, e.w, e.h);\n                ctx.fillRect(x, y, w, h);\n            }\n        );\n    }\n    \n    //draw sea \n    ctx.fillStyle = \"#F4BF01\";\n    ctx.fillRect(0, win.h * 7/10, win.w, win.h * 1/8);\n    ctx.fillStyle = \"#F79500\";\n    ctx.fillRect(0, win.h * (7/10 + 1/8), win.w, win.h * 1/32);\n    ctx.fillStyle = \"#F96A01\";\n    ctx.fillRect(0, win.h * (7/10 + 1/8 + 1/32), win.w, win.h * 1/32);\n    ctx.fillStyle = \"#EA3A00\";\n    ctx.fillRect(0, win.h * (7/10 + 1/8 + 1/16), win.w, win.h * 1/5);\n};\n\nmakeBgMountain(MOUNTAIN_NUM_PER_WIN, 0);\nmakeBgMountain(MOUNTAIN_NUM_PER_WIN, win.w);\nmakeBgCloud(CLOUD_NUM_PER_WIN, 0);\nmakeBgCloud(CLOUD_NUM_PER_WIN, win.w);\n\nwindow.mrjumpResult.percentage = 0;\nwindow.mrjumpResult.jumpcount = 0;\nwindow.mrjumpResult.tryingcount++;\nwindow.mrjumpResult.gameWinStr = \"level-3\";\nwindow.mrjumpGame.gameOver = false;\nwindow.mrjumpGame.me = win.find(\"me\");\nwindow.mrjumpGame.ska = win.find(\"me/ui-skeleton-animation-general\");\n\n//播放动画\nvar sprite = window.mrjumpGame.ska;\nsprite.play(\"run\");\nsprite.jumping = false;\nsprite.startJump = function() {\n    sprite.play(\"jump\");\n    sprite.jumping = true;\n    sprite.timerCount = 30;\n    \n    var box = sprite.getParent();\n    var v = box.getV();\n    if(window.mrjumpGame.gameOver || v.y  > 2 || v.y < -2) {\n        return;\n    }\n    //播放音效\n    this.playSoundEffect(\"tangram-jump2.mp3\", function onDone() {console.log(\"play finished\");});\n    window.mrjumpResult.jumpcount++;\n    box.setV(box.getV().x, SPRITE_V_Y);\n    function onTimer() {\n        var v = box.getV();\n        if(--sprite.timerCount <= 0 || !sprite.jumping) {\n            sprite.play(\"run\");\n            clearInterval(sprite.timerID);\n            sprite.timerID = 0;\n            v.y += -0.2 * SPRITE_V_Y;\n        }\n\n        if(v.y < 0 && v.y > -1) {\n            v.y -= 0.5;\n        }\n        box.setV(v.x, v.y);\n    }\n    sprite.timerID = setInterval(onTimer, MOVING_TIMER_INTERVAL);\n};\nsprite.endJump = function() {\n    sprite.jumping = false;  \n    if(sprite.timerID) {\n        clearInterval(sprite.timerID);\n        sprite.timerID = 0;\n    }\n    var box = sprite.getParent();\n    var v = box.getV();\n    if(v.y < 0) {\n        v.y = -0.2 * SPRITE_V_Y;\n    }\n    sprite.play(\"run\");\n    box.setV(v.x, v.y);\n};\n\nwin.endJump = function() {\n    sprite.endJump();\n};\nwin.startJump = function() {\n    sprite.startJump();\n};\nwin.paintSelfOnly = function(canvas) {\n    win.drawIt(canvas);\n};\n\nwin.find(\"me\").setV(SPRITE_V_X, 0);\n\n\nwindow.mrjumpGame.me.onBeginContact = function(body) {\n    if(window.mrjumpGame.gameOver) {\n        this.setEnable(false);\n    }\n    var name = body.name;\n    if(name.indexOf(\"spine\") === 0 \n            || name.indexOf(\"wall\") === 0\n            || name.indexOf(\"ground\") === 0) {\n        window.mrjumpGame.onGameOver();\n    } else if(body.name.indexOf(\"platform\") === 0) {\n        if(body.element.x > this.x + this.w - 10) {\n            window.mrjumpGame.onGameOver();\n        }\n    } else if(body.name.indexOf(\"end\") === 0) {\n        this.setVisible(false);\n        var cfg = {scaleXEnd:1.5, scaleYEnd:1.5, rotationEnd:Math.PI * 0.5, duration:150};\n        cfg.next = {scaleXEnd:0, scaleYEnd:0, rotationEnd:Math.PI, duration:250};\n        body.element.animate(cfg);\n        window.mrjumpGame.onGameOver(true);\n    }\n};\n\nwindow.mrjumpGame.onGameOver = function(success) {\n    if(window.mrjumpGame.gameOver) {\n        return;\n    }\n    //播放音效\n    win.playSoundEffect(\"tangram－over.mp3\", function onDone() {console.log(\"play finished\");});\n    window.mrjumpGame.gameOver = true;\n    function onDead() {\n        win.find(\"me\").setVisible(false);\n        if(!success) {\n            window.mrjumpResult.percentage = Math.floor(100 * window.mrjumpGame.me.x / win.getVirtualWidth());\n        } else {\n            window.mrjumpResult.percentage = 100;\n        }\n        win.openWindow(\"win-dead\", \n\t        function (retData) {console.log(\"window closed.\");}, false, window.mrjumpResult);\n    }\n    \n    mountains.forEach(function(e){e.stopMove();});\n    clouds.forEach(function(e){e.stopMove();});\n    if(!success) {\n        window.mrjumpGame.ska.play(\"fall\");\n        win.find(\"me\").setV(-3, -6);\n    } else {\n        window.mrjumpGame.me.setV(0, 0);\n        var cfg = {scaleXEnd:0, scaleYEnd:0, rotationEnd:Math.PI * 2, duration:350};\n        window.mrjumpGame.ska.animate(cfg);\n    }\n    setTimeout(onDead, 500);\n};",
								"onBeforeOpen": "var win = this;\nwin.resetGame();\n\nvar platformData = [\n    [0, 18, 22, 6],\n    [25, 18, 11, 6],\n    [39, 21, 12, 9],\n    [54, 18, 3, 6],\n    [59, 24, 1.4, 12],\n    [62, 15, 7, 3],\n    [71, 18, 3, 6], \n    [76, 24, 3, 12],\n    [81, 30, 2, 18],\n    [83, 27, 2, 15], \n    [85, 24, 2, 12], \n    [87, 21, 2, 9],\n    [89, 18, 2, 6],\n    [91, 15, 10, 3],\n    [104, 21, 3, 9],\n    [111, 18, 5, 6],\n    [117, 18, 5, 6],\n    [125, 15, 5, 3],\n    [131, 15, 1, 3],\n    [133, 15, 1, 3],\n    [135, 15, 2, 3],\n    [138, 15, 1, 3],\n    [140, 15, 1, 3],\n    [142, 15, 21, 3],\n    [150, 21, 5, 2, {grass:true}],//modifyed\n    [166, 21, 7, 9],\n    [175, 21, 6, 2, {grass:true}],\n    [183, 21, 7, 9],\n    [192, 15, 15, 3],\n    [208, 15, 1, 3],\n    [211, 15, 1, 3],\n    [214, 15, 20, 3],\n    [220, 21, 4, 2, {grass:true}],\n    [226, 21, 4, 2, {grass:true}],\n    [235, 18, 2, 2, {grass:true}],\n    [238, 21, 2, 2, {grass:true}],\n    [241, 24, 2, 2, {grass:true}],\n    [244, 27, 2, 2, {grass:true}],\n    [247, 30, 11, 2, {grass:true}],\n    [264, 24, 1, 12],\n    //ceiling\n    [115, 58, 3, 33],\n    [167, 58, 5, 30],\n    [185, 58, 3, 30],\n    ];\nvar spineData = [\n    [11, 18],\n    [16, 18],\n    [17, 18],\n    [29, 18],\n    [30, 18],\n    [31, 18],\n    [43, 21],\n    [44, 21],\n    [45, 21],\n    [46, 21],\n    [59.1, 24],\n    [91, 15],\n    [92, 15],\n    [93, 15],\n    [147, 15],\n    [148, 15],\n    [149, 15],\n    [150, 15],\n    [151, 15],\n    [152, 15],\n    [153, 15],\n    [154, 15],\n    [155, 15],\n    [156, 15],\n    [157, 15],\n    [158, 15],\n    [169, 21],\n    [196, 15],\n    [197, 15],\n    [200, 15],\n    [201, 15],\n    [219, 15],\n    [220, 15],\n    [221, 15],\n    [222, 15],\n    [223, 15],\n    [224, 15],\n    [226, 21],\n    [227, 21],\n    [228, 21],\n    [229, 21],\n    \n    [185, 26, {flipY:true}],\n    [186, 26, {flipY:true}],\n    [187, 26, {flipY:true}],\n    ];\n\nvar X_FACTOR = 58;\nvar Y_FACTOR = 15;\n\nvar IMAGE_PREFIX = \"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL1/\";\nwin.imageM = new Image();\nwin.imageM.src = IMAGE_PREFIX + \"1road2-a2.png\";\n\nvar makePlatform = function(pda) {\n    var drawPlatform = function(canvas) {\n\n        var image = this.getBgImage();\n        if(image) {\n            var srcRect = image.getImageRect();\n            image = image.getImage();\n            this.drawImageAt(canvas, image, this.images.display, 0, 0, this.w, this.h, srcRect);\n        }\n        if(this.h > Y_FACTOR && !this.grass) {\n            var srcRect = {x:0, y:0, w:win.imageM.width, h:win.imageM.height};\n            this.drawImageAt(canvas, win.imageM, UIElement.IMAGE_DISPLAY_TILE, 24, 22, this.w - 24 - 24, this.h - 30, srcRect);\n        }\n        \n        return;\n    };\n\n    for(var i = 0; i < pda.length; i++) {\n        var d = pda[i];\n        var p = win.dupChild(\"platform\", 2);\n        p.resize(d[2] * X_FACTOR, d[3] * Y_FACTOR);\n        p.setPosition(d[0] * X_FACTOR, win.h - d[1] * Y_FACTOR);\n        if(d[1] >= 50) {\n            p.setBgImage(IMAGE_PREFIX + \"redcap1-1.png\");\n        }\n        if(d[4]) {\n            p.grass = true;\n            p.setBgImage(IMAGE_PREFIX + \"1road2-a3.png\");\n        }\n\n        p.drawBgImage = drawPlatform;\n    }\n    console.log(\"platform 0 y:\" + (win.h - pda[0][1] * Y_FACTOR));\n\n    win.find(\"platform\").setVisible(false);\n    win.find(\"platform\").setEnable(false);\n};\n\nvar makeSpine = function(sda) {\n    sda.forEach(\n        function(e) {\n            var sp = win.dupChild(\"spine\");\n            sp.setPosition(e[0] * X_FACTOR, win.h - e[1]*Y_FACTOR - 51);\n            sp.paintSelfOnly = function() {};\n            sp.paintChildren = function() {};\n            if(e[2]) {\n                sp.setFlipY(e[2].flipY);\n                sp.setZIndex(10);\n            }\n        }\n    );\n    win.find(\"spine\").setVisible(false);\n    win.find(\"spine\").setEnable(false);\n};\n\nvar endPosition = [264, 25];\nvar end = win.find(\"end\");\nend.setPosition(endPosition[0] * X_FACTOR, win.h - endPosition[1] * Y_FACTOR - 51);\nend.paintSelfOnly = function() {};\n\nmakePlatform(platformData);\nmakeSpine(spineData);\n",
								"onClose": null,
								"onSwitchToBack": null,
								"onSwitchToFront": null,
								"onGesture": null,
								"onKeyDown": null,
								"onKeyUp": null,
								"onPointerDown": "var win = this;\nwin.startJump();\n",
								"onPointerMove": null,
								"onPointerUp": "var win = this;\nwin.endJump();",
								"onDoubleClick": null,
								"onSwipeLeft": null,
								"onSwipeRight": null,
								"onSwipeUp": "",
								"onSwipeDown": null
							},
							"images": {
								"display": 3
							},
							"children": [
								{
									"type": "ui-box",
									"name": "platform",
									"w": 426,
									"h": 153,
									"x": 17,
									"y": 408,
									"text": "",
									"hMargin": 10,
									"vMargin": 10,
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 20219,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"yInitVelocity": 0,
									"flipX": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "rgba(0,0,0,0)",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "",
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 2,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL3/5.png"
									}
								},
								{
									"type": "ui-timer",
									"name": "ui-timer-general",
									"w": 85,
									"h": 78,
									"x": -2,
									"y": 26,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 14431,
									"runtimeVisible": false,
									"times": 10000000,
									"duration": 30,
									"delayStart": 0,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUITimer": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onTimeout": "this.getWindow().postRedraw();"
									},
									"images": {
										"display": 4,
										"default_bg": "drawapp8/images/timer.png"
									}
								},
								{
									"type": "ui-polygon",
									"name": "spine",
									"w": 66,
									"h": 76,
									"x": -126,
									"y": 182,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17300,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIPolygon": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 1,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": null,
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL3/8.jpg"
									},
									"children": [
										{
											"type": "ui-point",
											"name": "ui-point",
											"w": 20,
											"h": 20,
											"x": 23,
											"y": 1,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 17301,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIPoint": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "#7d471b",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0
											}
										},
										{
											"type": "ui-point",
											"name": "ui-point",
											"w": 20,
											"h": 20,
											"x": 46,
											"y": 53,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 17302,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIPoint": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "#7d471b",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0
											}
										},
										{
											"type": "ui-point",
											"name": "ui-point",
											"w": 20,
											"h": 20,
											"x": 1,
											"y": 55,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 17303,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIPoint": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "#7d471b",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0
											}
										}
									]
								},
								{
									"type": "ui-box",
									"name": "me",
									"w": 30,
									"h": 50,
									"x": 78,
									"y": 350,
									"text": "",
									"opacity": 0,
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17206,
									"runtimeVisible": true,
									"density": 10,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"longPressed": false,
									"cameraFollowMe": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "",
										"onEndContact": null,
										"onMoved": "this.getWindow().onSpriteMove(this);"
									},
									"images": {
										"display": 0
									},
									"children": [
										{
											"type": "ui-skeleton-animation",
											"name": "ui-skeleton-animation-general",
											"w": 30,
											"h": 50,
											"x": 0,
											"y": 0,
											"text": "",
											"opacity": 0.98,
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 18684,
											"runtimeVisible": true,
											"wMin": 50,
											"hMin": 50,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"skeletonJsonURL": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/skeleton4.json",
											"textureJsonURL": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/texture4.json",
											"textureURL": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/texture4.png",
											"isUIDragonBones": true,
											"isUIElement": true,
											"hasChildren": true,
											"density": 1,
											"friction": 0.5,
											"restitution": 0.5,
											"animationScale": 1,
											"animationName": "walk",
											"isUISkeletonAnimation": true,
											"longPressed": false,
											"style": {
												"lineWidth": 2,
												"lineColor": "Orange",
												"fillColor": "White",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null,
												"onDoubleClick": null,
												"onUpdateTransform": null,
												"onLoadDone": null
											},
											"images": {
												"display": 2
											}
										}
									]
								},
								{
									"type": "ui-box",
									"name": "ground",
									"w": 15600,
									"h": 31,
									"x": 0,
									"y": 589,
									"text": "",
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 100,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 1,
									"widthAttr": 2,
									"heightAttr": 0,
									"uid": 24733,
									"runtimeVisible": false,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "",
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0
									}
								},
								{
									"type": "ui-sound-music",
									"name": "my-ui-sound-music-731",
									"w": 80,
									"h": 80,
									"x": 387,
									"y": 19,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 10636,
									"runtimeVisible": false,
									"roundRadius": 3,
									"value": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUISoundMusic": true,
									"isUICheckBox": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 16,
										"textColorOn": "Black",
										"fillColorOn": "White",
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onChanged": null,
										"onUpdateTransform": "this.setScale(this.pointerDown?1.1:1);"
									},
									"images": {
										"display": 0,
										"checked_fg": "cantk-game/assets/images/sound-music-on.png",
										"unchecked_fg": "cantk-game/assets/images/sound-music-off.png"
									}
								},
								{
									"type": "ui-sound-effects",
									"name": "my-ui-sound-effects-465",
									"w": 80,
									"h": 80,
									"x": 209,
									"y": 17,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 10631,
									"runtimeVisible": false,
									"roundRadius": 3,
									"value": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUISoundEffects": true,
									"isUICheckBox": true,
									"isUIElement": true,
									"hasChildren": true,
									"flipY": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 16,
										"textColorOn": "Black",
										"fillColorOn": "White",
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onChanged": null,
										"onUpdateTransform": "this.setScale(this.pointerDown?1.1:1);"
									},
									"images": {
										"display": 0,
										"checked_fg": "cantk-game/assets/images/sound-effects-on.png",
										"unchecked_fg": "cantk-game/assets/images/sound-effects-off.png"
									}
								},
								{
									"type": "ui-box",
									"name": "end",
									"w": 60,
									"h": 60,
									"x": 15312,
									"y": 320,
									"text": "",
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 23510,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isBullet": false,
									"isSensor": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": null,
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/zhongdian.png"
									}
								}
							]
						},
						{
							"type": "ui-scene",
							"name": "win-help",
							"w": 480,
							"h": 720,
							"x": 0,
							"y": 0,
							"text": "",
							"enable": true,
							"visible": true,
							"xAttr": 0,
							"yAttr": 0,
							"widthAttr": 2,
							"heightAttr": 2,
							"uid": 12574,
							"runtimeVisible": true,
							"animHint": "htranslate",
							"xOffset": 0,
							"yOffset": 0,
							"virtualWidth": 0,
							"virtualHeight": 0,
							"autoClearForce": true,
							"xParam": 1,
							"yParam": 1,
							"widthParam": 1,
							"heightParam": 1,
							"isUIScene": true,
							"isUINormalWindow": true,
							"isUIWindow": true,
							"isUIElement": true,
							"hasChildren": true,
							"gravityY": 10,
							"pixelsPerMeter": 100,
							"enablePhysics": true,
							"deviceConfig": "{\"name\":\"Device-General\",\"bg\":\"/drawapp8/images/device-general.png\",\"platform\":\"android\",\"version\":\"5\",\"lcdDensity\":\"hdpi\",\"width\":560,\"height\":798,\"screenX\":38,\"screenY\":83,\"screenW\":480,\"screenH\":720}",
							"style": {
								"lineWidth": 2,
								"lineColor": "Orange",
								"fillColor": "White",
								"textColor": "Blue",
								"fontSize": 16,
								"fontFamily": "sans"
							},
							"events": {
								"onClick": null,
								"onSystemInit": null,
								"onLoad": null,
								"onUnload": null,
								"onOpen": null,
								"onBeforeOpen": null,
								"onClose": null,
								"onSwitchToBack": null,
								"onSwitchToFront": null,
								"onGesture": null,
								"onKeyDown": null,
								"onKeyUp": null,
								"onPointerDown": null,
								"onPointerMove": null,
								"onPointerUp": null,
								"onDoubleClick": null,
								"onSwipeLeft": null,
								"onSwipeRight": null,
								"onSwipeUp": null,
								"onSwipeDown": null
							},
							"images": {
								"display": 3,
								"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/help1.png"
							},
							"children": [
								{
									"type": "ui-image-button",
									"name": "my-ui-image-button-124",
									"w": 100,
									"h": 100,
									"x": 348,
									"y": 23,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17162,
									"runtimeVisible": true,
									"wMin": 50,
									"hMin": 50,
									"enableAutoScaleFontSize": true,
									"noTextAlignment": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIImageButton": true,
									"isUIButton": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "#efefef",
										"textColor": "#008080",
										"fontSize": 16,
										"fontFamily": "serif"
									},
									"events": {
										"onClick": "var retData = {};\nthis.closeWindow(retData);\n",
										"onUpdateTransform": null
									},
									"images": {
										"display": 0,
										"normal_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4dead.png",
										"active_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/4dead-down.png"
									}
								}
							]
						},
						{
							"type": "ui-dialog",
							"name": "win-share",
							"w": 480,
							"h": 720,
							"x": 0,
							"y": 0,
							"text": "",
							"enable": true,
							"visible": true,
							"xAttr": 3,
							"yAttr": 3,
							"widthAttr": 2,
							"heightAttr": 2,
							"uid": 11662,
							"runtimeVisible": true,
							"animHint": "fade",
							"xParam": 1,
							"yParam": 1,
							"widthParam": 1,
							"heightParam": 1,
							"hasChildren": true,
							"heightScaleMin": 300,
							"heightScaleMax": 800,
							"sUIPopupWindow": true,
							"isUIDialog": true,
							"isUIWindow": true,
							"isUIElement": true,
							"isUIPopupWindow": true,
							"longPressed": false,
							"locked": false,
							"style": {
								"lineWidth": 2,
								"lineColor": "Green",
								"fillColor": "rgba(0,0,0,0)",
								"textColor": "Black",
								"fontSize": 16,
								"fontFamily": "serif"
							},
							"events": {
								"onClick": null,
								"onSystemInit": null,
								"onLoad": null,
								"onUnload": null,
								"onOpen": "",
								"onBeforeOpen": "",
								"onClose": "console.log(\"onClose was triggered\")",
								"onSwitchToBack": null,
								"onSwitchToFront": null,
								"onGesture": "console.log(\"onGesture was triggered\")",
								"onKeyDown": null,
								"onKeyUp": null
							},
							"images": {
								"display": 2
							},
							"children": [
								{
									"type": "ui-color-tile",
									"name": "ui-color-tile-iphone",
									"w": 480,
									"h": 720,
									"x": 0,
									"y": 0,
									"text": "",
									"vTextAlign": "middle",
									"hTextAlign": "center",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 2,
									"heightAttr": 2,
									"uid": 22727,
									"runtimeVisible": true,
									"roundRadius": 0,
									"isUIButton": false,
									"isUIColorButton": false,
									"isUIColorTile": true,
									"enableAutoScaleFontSize": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#ffffff",
										"fillColor": "#-3-2-2",
										"textColor": "#ffffff",
										"fontSize": 19,
										"fontFamily": "serif",
										"textB": true
									},
									"events": {
										"onClick": "var retData = {};\nthis.closeWindow(retData);\n",
										"onUpdateTransform": null
									},
									"images": {
										"display": 2
									},
									"children": [
										{
											"type": "ui-transform-animation",
											"name": "ui-transform-animation-general",
											"w": 94,
											"h": 102,
											"x": 354,
											"y": 27,
											"text": "",
											"rotation": 0.663700381374352,
											"enable": false,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 14312,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUITransformAnimation": true,
											"isUISprite": true,
											"isUIElement": true,
											"hasChildren": true,
											"density": 1,
											"friction": 0.5,
											"restitution": 0.5,
											"style": {
												"lineWidth": 2,
												"lineColor": "Orange",
												"fillColor": "White",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null,
												"onDoubleClick": null,
												"onUpdateTransform": null
											},
											"images": {
												"display": 0,
												"default_bg": "cantk-game/assets/images/trans_anim.png"
											},
											"animationConfig": {
												"opacityFrom": 1,
												"opacityTo": 1,
												"scaleXFrom": 1,
												"scaleXTo": 1,
												"scaleYFrom": 1,
												"scaleYTo": 1,
												"rotationFrom": 0,
												"rotationTo": 0,
												"offsetXFrom": 0,
												"offsetXTo": 20,
												"offsetYFrom": 10,
												"offsetYTo": -10,
												"random": 0,
												"frequency": 1,
												"rotationRange": 0,
												"rotationMiddle": 0,
												"opacityRange": 0.9,
												"opacityMiddle": 0.55,
												"scaleRange": 0.4,
												"scaleMiddle": 0.8,
												"offsetXRange": 0,
												"offsetXMiddle": 0,
												"offsetYRange": 20,
												"offsetYMiddle": 0,
												"startTime": 1427441200249
											}
										},
										{
											"type": "ui-label",
											"name": "ui-label-general",
											"w": 300,
											"h": 69,
											"x": 93,
											"y": 159,
											"text": "点击右上角菜单分享",
											"vTextAlign": "middle",
											"hTextAlign": "center",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 19757,
											"runtimeVisible": true,
											"autoAdjustHeight": false,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUILabel": true,
											"isUIElement": true,
											"hasChildren": true,
											"ANIM_OLD_OUT": 1,
											"ANIM_NEW_IN": 3,
											"style": {
												"lineWidth": 2,
												"lineColor": "Red",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "#E9E6E6",
												"fontSize": 25,
												"fontFamily": "serif"
											},
											"events": {
												"onClick": null,
												"onChanged": null,
												"onUpdateTransform": null
											},
											"images": {
												"display": 2
											}
										}
									]
								}
							]
						},
						{
							"type": "ui-scene",
							"name": "level-1",
							"w": 480,
							"h": 720,
							"x": 0,
							"y": 0,
							"text": "",
							"enable": true,
							"visible": true,
							"xAttr": 0,
							"yAttr": 0,
							"widthAttr": 2,
							"heightAttr": 2,
							"uid": 16617,
							"runtimeVisible": true,
							"animHint": "none",
							"xOffset": 0,
							"yOffset": 0,
							"virtualWidth": 15600,
							"virtualHeight": 0,
							"autoClearForce": true,
							"xParam": 1,
							"yParam": 1,
							"widthParam": 1,
							"heightParam": 1,
							"isUIScene": true,
							"isUINormalWindow": true,
							"isUIWindow": true,
							"isUIElement": true,
							"hasChildren": true,
							"gravityY": 45,
							"pixelsPerMeter": 100,
							"enablePhysics": true,
							"longPressed": false,
							"fps": 50,
							"showFPS": true,
							"locked": false,
							"style": {
								"lineWidth": 2,
								"lineColor": "#C8C8C8",
								"fillColor": "White",
								"textColor": "Blue",
								"fontSize": 15,
								"fontFamily": "sans"
							},
							"events": {
								"onClick": null,
								"onSystemInit": null,
								"onLoad": "",
								"onUnload": null,
								"onOpen": "",
								"onBeforeOpen": "var win = this;\nwin.resetGame();\n\nvar platformData = [\n    [0, 18, 22, 6],\n    [25, 18, 11, 6],\n    [39, 21, 12, 9],\n    [54, 18, 3, 6],\n    [59, 24, 1.4, 12],\n    [62, 15, 7, 3],\n    [71, 18, 3, 6], \n    [76, 24, 3, 12],\n    [81, 30, 2, 18],\n    [83, 27, 2, 15], \n    [85, 24, 2, 12], \n    [87, 21, 2, 9],\n    [89, 18, 2, 6],\n    [91, 15, 10, 3],\n    [104, 21, 3, 9],\n    [111, 18, 5, 6],\n    [117, 18, 5, 6],\n    [125, 15, 5, 3],\n    [131, 15, 1, 3],\n    [133, 15, 1, 3],\n    [135, 15, 2, 3],\n    [138, 15, 1, 3],\n    [140, 15, 1, 3],\n    [142, 15, 21, 3],\n    [150, 21, 5, 2, {grass:true}],//modifyed\n    [166, 21, 7, 9],\n    [175, 21, 6, 2, {grass:true}],\n    [183, 21, 7, 9],\n    [192, 15, 15, 3],\n    [208, 15, 1, 3],\n    [211, 15, 1, 3],\n    [214, 15, 20, 3],\n    [220, 21, 4, 2, {grass:true}],\n    [226, 21, 4, 2, {grass:true}],\n    [235, 18, 2, 2, {grass:true}],\n    [238, 21, 2, 2, {grass:true}],\n    [241, 24, 2, 2, {grass:true}],\n    [244, 27, 2, 2, {grass:true}],\n    [247, 30, 11, 2, {grass:true}],\n    [264, 24, 1, 12],\n    //ceiling\n    [115, 58, 3, 33],\n    [167, 58, 5, 30],\n    [185, 58, 3, 30],\n    ];\nvar spineData = [\n    [11, 18],\n    [16, 18],\n    [17, 18],\n    [29, 18],\n    [30, 18],\n    [31, 18],\n    [43, 21],\n    [44, 21],\n    [45, 21],\n    [46, 21],\n    [59.1, 24],\n    [91, 15],\n    [92, 15],\n    [93, 15],\n    [147, 15],\n    [148, 15],\n    [149, 15],\n    [150, 15],\n    [151, 15],\n    [152, 15],\n    [153, 15],\n    [154, 15],\n    [155, 15],\n    [156, 15],\n    [157, 15],\n    [158, 15],\n    [169, 21],\n    [196, 15],\n    [197, 15],\n    [200, 15],\n    [201, 15],\n    [219, 15],\n    [220, 15],\n    [221, 15],\n    [222, 15],\n    [223, 15],\n    [224, 15],\n    [226, 21],\n    [227, 21],\n    [228, 21],\n    [229, 21],\n    \n    [185, 26, {flipY:true}],\n    [186, 26, {flipY:true}],\n    [187, 26, {flipY:true}],\n    ];\n\nvar X_FACTOR = 58;\nvar Y_FACTOR = 15;\n\nvar IMAGE_PREFIX = \"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL1/\";\nwin.imageM = new Image();\nwin.imageM.src = IMAGE_PREFIX + \"1road2-a2.png\";\n\nvar makePlatform = function(pda) {\n    var drawPlatform = function(canvas) {\n\n        var image = this.getBgImage();\n        if(image) {\n            var srcRect = image.getImageRect();\n            image = image.getImage();\n            this.drawImageAt(canvas, image, this.images.display, 0, 0, this.w, this.h, srcRect);\n        }\n        if(this.h > Y_FACTOR && !this.grass) {\n            var srcRect = {x:0, y:0, w:win.imageM.width, h:win.imageM.height};\n            this.drawImageAt(canvas, win.imageM, UIElement.IMAGE_DISPLAY_TILE, 24, 22, this.w - 24 - 24, this.h - 30, srcRect);\n        }\n        \n        return;\n    };\n\n    for(var i = 0; i < pda.length; i++) {\n        var d = pda[i];\n        var p = win.dupChild(\"platform\", 2);\n        p.resize(d[2] * X_FACTOR, d[3] * Y_FACTOR);\n        p.setPosition(d[0] * X_FACTOR, win.h - d[1] * Y_FACTOR);\n        if(d[1] >= 50) {\n            p.setBgImage(IMAGE_PREFIX + \"redcap1-1.png\");\n        }\n        if(d[4]) {\n            p.grass = true;\n            p.setBgImage(IMAGE_PREFIX + \"1road2-a3.png\");\n        }\n\n        p.drawBgImage = drawPlatform;\n    }\n    console.log(\"platform 0 y:\" + (win.h - pda[0][1] * Y_FACTOR));\n\n    win.find(\"platform\").setVisible(false);\n    win.find(\"platform\").setEnable(false);\n};\n\nvar makeSpine = function(sda) {\n    sda.forEach(\n        function(e) {\n            var sp = win.dupChild(\"spine\");\n            sp.setPosition(e[0] * X_FACTOR, win.h - e[1]*Y_FACTOR - 51);\n            sp.paintSelfOnly = function() {};\n            sp.paintChildren = function() {};\n            if(e[2]) {\n                sp.setFlipY(e[2].flipY);\n                sp.setZIndex(10);\n            }\n        }\n    );\n    win.find(\"spine\").setVisible(false);\n    win.find(\"spine\").setEnable(false);\n};\n\nvar endPosition = [264, 25];\nvar end = win.find(\"end\");\nend.setPosition(endPosition[0] * X_FACTOR, win.h - endPosition[1] * Y_FACTOR - 51);\nend.paintSelfOnly = function() {};\n\nmakePlatform(platformData);\nmakeSpine(spineData);\n\nvar WIN_H = win.getVirtualHeight();\nvar WIN_W = win.getVirtualWidth();\nvar CLOUD_SIZE = [\n    {w:230, h:50},\n    {w:230, h:55},\n    {w:280, h:60},\n];\nvar MOUNTAIN_SIZE = [\n    {s:400, l:400},\n    {s:450, l:450},\n    {s:500, l:600},\n    {s:650, l:600},\n    {s:700, l:600},\n];\n\nvar mountains = [];\nvar clouds = [];\n\nMOUNTAIN_NUM_PER_WIN = 4;\nCLOUD_NUM_PER_WIN = 2;\n\nvar MOVING_TIMER_INTERVAL = 20;\n\nvar LAYER_FAR = 0;\nvar LAYER_MIDDLE = 1;\nvar LAYER_NEAR = 2;\n\nSPRITE_V_X = 5.2;\nSPRITE_V_Y = -15;\n\nfunction Cloud() {\n    Cloud.layerToColor = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return \"#444444\";\n            case LAYER_MIDDLE:\n                return \"#555555\";\n            case LAYER_FAR:\n                return \"#666666\";\n        }\n    };\n    Cloud.layerToV = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return {x:-0.7 * SPRITE_V_X, y:0};\n            case LAYER_MIDDLE:\n                return {x:-0.6 * SPRITE_V_X, y:0};\n            case LAYER_FAR:\n                return {x:-0.5 * SPRITE_V_X, y:0};\n        }\n    };\n    Cloud.prototype.init = function(x, y, w, h, layer) {\n        this.x = x;\n        this.y = y;\n        this.h = h;\n        this.w = w;\n        this.layer = layer;\n        this.v = {x:0, y:0};\n    };\n    Cloud.prototype.setV = function(v) {\n        this.v = {};\n        this.v.x = v.x ? v.x : 0;\n        this.v.y = v.y ? v.y : 0;\n    };\n    Cloud.prototype.startMove = function() {\n        if(this.timerID) {\n            return;\n        }\n        var cloud = this;\n        this.setV(Cloud.layerToV(this.layer));\n        function onTimer() {\n            cloud.x += cloud.v.x;\n            cloud.y += cloud.v.y;\n        }\n        this.timerID = setInterval(onTimer, MOVING_TIMER_INTERVAL);\n    };\n    Cloud.prototype.stopMove = function() {\n        if(this.timerID) {\n            clearInterval(this.timerID);\n            this.timerID = 0;\n        }\n    };\n}\nfunction Mountain() {\n    Mountain.layerToColor = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return \"#3D8F83\";\n            case LAYER_MIDDLE:\n                return \"#45B5B7\";\n            case LAYER_FAR:\n                return \"#6BBFD0\";\n        }\n    };\n    Mountain.layerToV = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return {x:-0.7 * SPRITE_V_X, y:0};\n            case LAYER_MIDDLE:\n                return {x:-0.6 * SPRITE_V_X, y:0};\n            case LAYER_FAR:\n                return {x:-0.5 * SPRITE_V_X, y:0};\n        }\n    };\n    Mountain.prototype.init = function(x, y, s, l, layer) {\n        this.x = x;\n        this.y = y;\n        this.s = s; //短边\n        this.l = l;\n        this.layer = layer; //长边\n        this.v = 0;\n    };\n    Mountain.prototype.setV = function(v) {\n        this.v = {};\n        this.v.x = v.x ? v.x : 0;\n        this.v.y = v.y ? v.y : 0;\n    };\n    Mountain.prototype.startMove = function() {\n        if(this.timerID) {\n            return;\n        }\n        var cloud = this;\n        this.setV(Mountain.layerToV(this.layer));\n        function onTimer() {\n            cloud.x += cloud.v.x;\n            cloud.y += cloud.v.y;\n        }\n        this.timerID = setInterval(onTimer, MOVING_TIMER_INTERVAL);\n    };\n    Mountain.prototype.stopMove = function() {\n        if(this.timerID) {\n            clearInterval(this.timerID);\n            this.timerID = 0;\n        }\n    };\n}\n\nfunction makeBgCloud(num, basex) {\n    for(var i = 0; i < num; i++) {\n        var cloud = new Cloud();\n        var size = CLOUD_SIZE[Math.floor(Math.random() * CLOUD_SIZE.length)];\n        cloud.init(basex + Math.random() * win.w, Math.random() * 0.75 * WIN_H, size.w, size.h, Math.floor(Math.random() * LAYER_NEAR));\n        cloud.startMove();\n        clouds.push(cloud);\n    }\n};\nfunction makeBgMountain(num, basex) {\n    for(var i = 0; i < num; i++) {\n        var mountain = new Mountain();\n        var size = MOUNTAIN_SIZE[Math.floor(Math.random() * MOUNTAIN_SIZE.length)];\n        mountain.init(basex + Math.random() * win.w, (0.9 + 0.1 * Math.random())* WIN_H, size.s, size.l, Math.floor(Math.random() * (LAYER_NEAR + 1)));\n        mountain.startMove();\n        mountains.push(mountain);\n    }\n};\n\nwin.drawIt = function(ctx) {\n    var sprite = win.find(\"me\");\n    \n    ctx.rect(0,0,win.w,win.h);\n    ctx.clip();\n    \n    //draw bg \n    ctx.fillStyle = \"#72CDDF\";\n    ctx.fillRect(0, 0, win.w, win.h);\n\n    //draw clouds\n    function layerToAlpha(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return 0.5;\n            case LAYER_MIDDLE:\n                return 0.3;\n            case LAYER_FAR:\n                return 0.2;\n        }\n    }\n    for(var layer = LAYER_FAR; layer <= LAYER_NEAR; layer++) {\n        ctx.globalAlpha = 1;\n        //draw mountains\n        mountains.forEach(\n            function(e) {\n                if(layer != e.layer || e.x > win.w) {\n                    return;\n                }\n                ctx.beginPath();\n                ctx.moveTo(e.x, e.y);\n                ctx.lineTo(e.x + e.s * 0.5, e.y - e.l);\n                ctx.lineTo(e.x + e.s, e.y);\n                ctx.lineTo(e.x, e.y);\n                ctx.closePath();\n                ctx.fillStyle = Mountain.layerToColor(e.layer);\n                ctx.fill();\n            }\n        );\n        clouds.forEach(\n            function(e) {\n                if(layer != e.layer || e.x > win.w) {\n                    return;\n                }\n                var x = e.x;\n                var y = e.y;\n                var w = e.w;\n                var h = e.h;\n                if(x < 0) {\n                    w = e.w + x;\n                    x = 0;\n                }\n                if(x + w > win.w) {\n                    w = win.w - x;\n                }\n                var alp = layerToAlpha(e.layer);\n                ctx.globalAlpha = alp;\n                ctx.fillStyle = \"white\";\n                //ctx.fillRect(e.x, e.y, e.w, e.h);\n                ctx.fillRect(x, y, w, h);\n            }\n        );\n    }\n    \n    //draw sea \n    ctx.fillStyle = \"#76FDFF\";\n    ctx.fillRect(0, win.h * 7/10, win.w, win.h * 1/8);\n    ctx.fillStyle = \"#31D4FD\";\n    ctx.fillRect(0, win.h * (7/10 + 1/8), win.w, win.h * 1/32);\n    ctx.fillStyle = \"#21A6CF\";\n    ctx.fillRect(0, win.h * (7/10 + 1/8 + 1/32), win.w, win.h * 1/32);\n    ctx.fillStyle = \"#1D89AF\";\n    ctx.fillRect(0, win.h * (7/10 + 1/8 + 1/16), win.w, win.h * 1/5);\n};\n\nwin.paintSelfOnly = function(canvas) {\n    win.drawIt(canvas);\n};\n\nfunction simpleSort(a, b) {\n    return a.x - b.x;\n}\nfunction level1BGCreate() {\n    makeBgMountain(MOUNTAIN_NUM_PER_WIN, 0);\n    makeBgMountain(MOUNTAIN_NUM_PER_WIN, win.w);\n    makeBgCloud(CLOUD_NUM_PER_WIN, 0);\n    makeBgCloud(CLOUD_NUM_PER_WIN, win.w);\n}\nfunction level1BGMoved() {\n    clouds.sort(simpleSort);\n    mountains.sort(simpleSort);\n    if(mountains[0].x + mountains[0].s < 0) {\n        var m = mountains.shift();\n        m.stopMove();\n    }\n    if(clouds[0].x + clouds[0].w < 0) {\n        var c = clouds.shift();\n        c.stopMove();\n    }\n    if(mountains.length < 2 * MOUNTAIN_NUM_PER_WIN) {\n        makeBgMountain(MOUNTAIN_NUM_PER_WIN, win.w);\n    }\n    if(clouds.length < 2 * CLOUD_NUM_PER_WIN) {\n        makeBgCloud(CLOUD_NUM_PER_WIN, win.w);\n    }\n}\n\nfunction GameDirector() {\n    var GAME_STATE_RUNNING = 0;\n    var GAME_STATE_ENDING = 1;\n    var GAME_STATE_OVER = 2;\n    var gameWinStr = [\n        \"level-1\",\n        \"level-2\",\n        \"level-3\",\n        ];\n    var bgCreateFuncs = [\n        level1BGCreate,\n        ];\n    var bgMovedFuncs = [\n        level1BGMoved,\n        ];\n    \n    GameDirector.DISMISS_ANIMATE = {scaleXEnd:1.5, scaleYEnd:1.5, rotationEnd:Math.PI * 0.5, duration:150};\n    GameDirector.DISMISS_ANIMATE.next = {scaleXEnd:0, scaleYEnd:0, rotationEnd:Math.PI, duration:250};\n\n    \n    GameDirector.prototype.init = function(win, level) {\n        this.win = win;\n        this.gameState = GAME_STATE_RUNNING;\n        this.level = level;\n    }\n    GameDirector.prototype.setActor = function(redcap) {\n        this.redcap = redcap;\n    }\n    GameDirector.prototype.playSoundMusic = function(name) {\n        this.win.playSoundMusic(name, function onDone() {console.log(\"play finished\");});\n    }\n    GameDirector.prototype.playSoundEffect = function(name) {\n        this.win.playSoundEffect(name, function onDone() {console.log(\"play finished\");});\n    }\n    GameDirector.prototype.isGameOver = function() {\n        return this.gameState === GAME_STATE_OVER;\n    }\n    GameDirector.prototype.startGame = function() {\n        bgCreateFuncs[this.level]();\n        this.redcap.startRun();\n    }\n    GameDirector.prototype.startJump = function() {\n        if(this.isGameOver()) {\n            return;\n        }\n        this.redcap.startJump();\n    }\n    GameDirector.prototype.endJump = function() {\n        if(this.isGameOver()) {\n            return;\n        }\n        this.redcap.endJump();\n    }\n    GameDirector.prototype.gameOver = function(success) {\n        if(this.gameState === GAME_STATE_OVER) {\n            return;\n        }\n\n        if(!success) {\n            this.playSoundEffect(\"tangram-over.mp3\");\n        }\n        this.gameState = GAME_STATE_OVER;\n        \n        mountains.forEach(function(e){e.stopMove();});\n        clouds.forEach(function(e){e.stopMove();});\n        \n        var redcap = this.redcap;\n        var director = this;\n        function onDead() {\n            var store = window.localStorage;\n            var percentage = 0;\n            if(!success) {\n                percentage = Math.floor(100 * redcap.box.x / win.getVirtualWidth());\n            } else {\n                percentage = 100;\n            }\n            redcap.onDead();\n            var prefix = director.level + \"-\";\n            store.setItem(prefix + \"percentage\", percentage);\n            store.setItem(prefix + \"jumpcount\", redcap.jumpcount);\n            var tryingcount = store.getItem(prefix + \"tryingcount\");\n            store.setItem(prefix + \"tryingcount\", ++tryingcount);\n            \n            var initData = {percentage:percentage, jumpcount:redcap.jumpcount, tryingcount:tryingcount, gameWinStr:\"level-1\"};\n            win.openWindow(\"win-dead\", \n    \t        function (retData) {console.log(\"window closed.\");}, false, initData);\n        }\n        setTimeout(onDead, 500);\n    }\n    GameDirector.prototype.onRedcapMoved = function(sprite) {\n        if(this.isGameOver()) {\n            return;\n        }\n        bgMovedFuncs[this.level]();\n        var v = sprite.getV();\n        sprite.setV(SPRITE_V_X, v.y);\n    }\n    GameDirector.prototype.onBeginContact = function(body) {\n        this.redcap.onBeginContact(body);\n    }\n};\n\nfunction Redcap() {\n    Redcap.prototype.init = function(win, director) {\n        this.win = win;\n        this.director = director;\n        this.sprite = win.find(\"me/ui-skeleton-animation-general\");\n        this.box = win.find(\"me\");\n        this.jumpcount = 0;\n        this.jumpTimerID = 0;\n        director.setActor(this);\n    };\n    Redcap.prototype.startJump = function() {\n        var redcap = this;\n        var box = this.box;    \n        var sprite = this.sprite;\n        \n        var v = box.getV();\n        if(this.director.isGameOver() || v.y  > 2 || v.y < -2) {\n            return;\n        }\n\n        this.director.playSoundEffect(\"tangram-jump2.mp3\");\n        sprite.play(\"jump\");\n        this.jumpcount++;\n        box.setV(box.getV().x, SPRITE_V_Y);\n    \n        var timerCount = 30;\n        function onTimer() {\n            var v = box.getV();\n            if(--timerCount <= 0) {\n                sprite.play(\"run\");\n                clearInterval(redcap.jumpTimerID);\n                redcap.jumpTimerID = 0;\n                v.y += -0.2 * SPRITE_V_Y;\n            }\n            if(v.y < 0 && v.y > -1) {\n                v.y -= 0.5;\n            }\n            box.setV(v.x, v.y);\n        }\n        redcap.jumpTimerID = setInterval(onTimer, MOVING_TIMER_INTERVAL);\n    }\n    Redcap.prototype.endJump = function(){\n        if(this.jumpTimerID) {\n            clearInterval(this.jumpTimerID);\n            this.jumpTimerID = 0;\n        }\n        var v = this.box.getV();\n        if(v.y < 0) {\n            v.y = -0.2 * SPRITE_V_Y;\n        }\n        this.sprite.play(\"run\");\n        this.box.setV(v.x, v.y);\n    }\n    \n    Redcap.prototype.onBeginContact = function(body) {\n        if(this.director.isGameOver()) {\n            this.box.setEnable(false);\n            return;\n        }\n        var name = body.name;\n        var gameOver = false;\n        var success = false;\n        if(name.indexOf(\"spine\") === 0 \n                || name.indexOf(\"wall\") === 0\n                || name.indexOf(\"ground\") === 0) {\n            gameOver = true;\n        } else if(body.name.indexOf(\"platform\") === 0) {\n            if(body.element.x > this.x + this.w - 10) {\n                gameOver = true;\n            }\n        } else if(body.name.indexOf(\"end\") === 0) {\n            this.box.setVisible(false);\n            body.element.animate(GameDirector.DISMISS_ANIMATE);\n            gameOver = true;\n            success = true;\n        }\n        \n        if(gameOver) {\n            this.director.gameOver(success);\n            \n            if(success) {\n                this.box.setV(0, 0);\n                var cfg = {scaleXEnd:0, scaleYEnd:0, rotationEnd:Math.PI * 2, duration:350};\n                this.sprite.animate(cfg);\n            } else {\n                this.sprite.play(\"fall\");\n                this.box.setV(-3, -6);\n            }\n        }\n    };\n    \n    Redcap.prototype.startRun = function() {\n        this.sprite.play(\"run\");\n        this.box.setV(SPRITE_V_X, 0);\n    };\n    \n    Redcap.prototype.onDead = function() {\n        this.box.setVisible(false);\n    }\n}\n\nvar initGame = function() {\n    win.director = new GameDirector();\n    win.director.init(win, 0);\n    win.redcap = new Redcap();\n    win.redcap.init(win, win.director);\n    win.director.startGame();\n    win.setCameraFollowParams(0.3, 0.3);\n};\ninitGame();\n",
								"onClose": null,
								"onSwitchToBack": null,
								"onSwitchToFront": null,
								"onGesture": null,
								"onKeyDown": null,
								"onKeyUp": null,
								"onPointerDown": "var win = this;\nwin.director.startJump();\n",
								"onPointerMove": null,
								"onPointerUp": "var win = this;\nwin.director.endJump();",
								"onDoubleClick": null,
								"onSwipeLeft": null,
								"onSwipeRight": null,
								"onSwipeUp": "",
								"onSwipeDown": null
							},
							"images": {
								"display": 3
							},
							"children": [
								{
									"type": "ui-box",
									"name": "platform",
									"w": 426,
									"h": 153,
									"x": 17,
									"y": 408,
									"text": "",
									"hMargin": 10,
									"vMargin": 10,
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 20219,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"yInitVelocity": 0,
									"flipX": false,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "rgba(0,0,0,0)",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "",
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 2,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL1/1road1-a1.png"
									}
								},
								{
									"type": "ui-timer",
									"name": "ui-timer-general",
									"w": 85,
									"h": 78,
									"x": -2,
									"y": 26,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 14431,
									"runtimeVisible": false,
									"times": 10000000,
									"duration": 30,
									"delayStart": 0,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUITimer": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onTimeout": "this.getWindow().postRedraw();"
									},
									"images": {
										"display": 4,
										"default_bg": "drawapp8/images/timer.png"
									}
								},
								{
									"type": "ui-polygon",
									"name": "spine",
									"w": 66,
									"h": 76,
									"x": -126,
									"y": 182,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17300,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIPolygon": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 1,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": null,
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL1/6.png"
									},
									"children": [
										{
											"type": "ui-point",
											"name": "ui-point",
											"w": 20,
											"h": 20,
											"x": 23,
											"y": 1,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 17301,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIPoint": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "#7d471b",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0
											}
										},
										{
											"type": "ui-point",
											"name": "ui-point",
											"w": 20,
											"h": 20,
											"x": 46,
											"y": 53,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 17302,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIPoint": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "#7d471b",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0
											}
										},
										{
											"type": "ui-point",
											"name": "ui-point",
											"w": 20,
											"h": 20,
											"x": 1,
											"y": 55,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 17303,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIPoint": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "#7d471b",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0
											}
										}
									]
								},
								{
									"type": "ui-box",
									"name": "me",
									"w": 30,
									"h": 50,
									"x": 78,
									"y": 350,
									"text": "",
									"opacity": 0,
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 320,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 1,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17206,
									"runtimeVisible": true,
									"density": 10,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"longPressed": false,
									"cameraFollowMe": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "this.getWindow().director.onBeginContact(body);",
										"onEndContact": "",
										"onMoved": "this.getWindow().director.onRedcapMoved(this);"
									},
									"images": {
										"display": 0
									},
									"children": [
										{
											"type": "ui-skeleton-animation",
											"name": "ui-skeleton-animation-general",
											"w": 30,
											"h": 50,
											"x": 0,
											"y": 0,
											"text": "",
											"opacity": 0.98,
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 18684,
											"runtimeVisible": true,
											"wMin": 50,
											"hMin": 50,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"skeletonJsonURL": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/skeleton4.json",
											"textureJsonURL": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/texture4.json",
											"textureURL": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/texture4.png",
											"isUIDragonBones": true,
											"isUIElement": true,
											"hasChildren": true,
											"density": 1,
											"friction": 0.5,
											"restitution": 0.5,
											"animationScale": 1,
											"animationName": "walk",
											"isUISkeletonAnimation": true,
											"longPressed": false,
											"style": {
												"lineWidth": 2,
												"lineColor": "Orange",
												"fillColor": "White",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null,
												"onDoubleClick": null,
												"onUpdateTransform": null,
												"onLoadDone": null
											},
											"images": {
												"display": 2
											}
										}
									]
								},
								{
									"type": "ui-box",
									"name": "ground",
									"w": 15600,
									"h": 31,
									"x": 0,
									"y": 589,
									"text": "",
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 100,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 1,
									"widthAttr": 2,
									"heightAttr": 0,
									"uid": 24733,
									"runtimeVisible": false,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "",
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0
									}
								},
								{
									"type": "ui-sound-music",
									"name": "my-ui-sound-music-731",
									"w": 80,
									"h": 80,
									"x": 387,
									"y": 19,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 10636,
									"runtimeVisible": false,
									"roundRadius": 3,
									"value": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUISoundMusic": true,
									"isUICheckBox": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 16,
										"textColorOn": "Black",
										"fillColorOn": "White",
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onChanged": null,
										"onUpdateTransform": "this.setScale(this.pointerDown?1.1:1);"
									},
									"images": {
										"display": 0,
										"checked_fg": "cantk-game/assets/images/sound-music-on.png",
										"unchecked_fg": "cantk-game/assets/images/sound-music-off.png"
									}
								},
								{
									"type": "ui-sound-effects",
									"name": "my-ui-sound-effects-465",
									"w": 80,
									"h": 80,
									"x": 209,
									"y": 17,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 10631,
									"runtimeVisible": false,
									"roundRadius": 3,
									"value": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUISoundEffects": true,
									"isUICheckBox": true,
									"isUIElement": true,
									"hasChildren": true,
									"flipY": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 16,
										"textColorOn": "Black",
										"fillColorOn": "White",
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onChanged": null,
										"onUpdateTransform": "this.setScale(this.pointerDown?1.1:1);"
									},
									"images": {
										"display": 0,
										"checked_fg": "cantk-game/assets/images/sound-effects-on.png",
										"unchecked_fg": "cantk-game/assets/images/sound-effects-off.png"
									}
								},
								{
									"type": "ui-box",
									"name": "end",
									"w": 60,
									"h": 60,
									"x": 15312,
									"y": 320,
									"text": "",
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 23510,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isBullet": false,
									"isSensor": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": null,
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/zhongdian.png"
									}
								}
							]
						},
						{
							"type": "ui-scene",
							"name": "level-2",
							"w": 480,
							"h": 720,
							"x": 0,
							"y": 0,
							"text": "",
							"enable": true,
							"visible": true,
							"xAttr": 0,
							"yAttr": 0,
							"widthAttr": 2,
							"heightAttr": 2,
							"uid": 16617,
							"runtimeVisible": true,
							"animHint": "none",
							"xOffset": 0,
							"yOffset": 0,
							"virtualWidth": 14000,
							"virtualHeight": 0,
							"autoClearForce": true,
							"xParam": 1,
							"yParam": 1,
							"widthParam": 1,
							"heightParam": 1,
							"isUIScene": true,
							"isUINormalWindow": true,
							"isUIWindow": true,
							"isUIElement": true,
							"hasChildren": true,
							"gravityY": 20,
							"pixelsPerMeter": 100,
							"enablePhysics": true,
							"longPressed": false,
							"locked": false,
							"fps": 50,
							"style": {
								"lineWidth": 2,
								"lineColor": "#C8C8C8",
								"fillColor": "White",
								"textColor": "Blue",
								"fontSize": 15,
								"fontFamily": "sans"
							},
							"events": {
								"onClick": null,
								"onSystemInit": null,
								"onLoad": null,
								"onUnload": null,
								"onOpen": "WWindowManager.getInstance().showFPS(true);",
								"onBeforeOpen": "var win = this;\nwin.resetGame();\n\nvar platformData = [\n    [0, 22, 7, 12],\n    [16, 17, 3, 6],\n    [26, 17, 2, 6],\n    [29, 14, 2, 3],\n    [42, 29, 3, 18],\n    [50, 20, 2, 9],\n    [53, 17, 5, 6],\n    [58, 20, 2, 9],\n    [60, 23, 2, 12],\n    [62, 29, 2, 18],\n    [75, 17, 4, 6],\n    [81, 17, 4, 6],\n    [99, 17, 5, 6],\n    [107, 17, 1, 6],\n    [111, 20, 1, 9],\n    [115, 17, 9, 6],\n    [146, 20, 10, 9],\n    [165, 20, 2, 9],\n    [176, 20, 2, 9],\n    [179, 20, 2, 9],\n    [182, 20, 2, 9],\n    [185, 20, 2, 9],\n    [188, 20, 2, 9],\n    [196, 20, 2, 9],\n    [203, 29, 2, 18],\n    [217, 17, 3, 6],\n    [223, 17, 1, 6],\n    [227, 20, 1, 9],\n    [231, 23, 1, 12],\n    [236, 17, 1, 1],\n    ];\nvar spineData = [\n    [58, 20],\n    [59, 20],\n    [60, 23],\n    [61, 23],\n    [77, 17],\n    [78, 17],\n    [83, 17],\n    [84, 17],\n    [107, 17],\n    [111, 20],\n    [119, 17],\n    [148, 20],\n    [149, 20],\n    [152, 20],\n    [153, 20],\n    [217, 17],\n    [223, 17],\n    [227, 20],\n    [231, 23],\n    ];\nvar foodData = [\n    [11, 24],\n    [22, 20], //modifyed [23, 20]\n    [35, 18],\n    [39, 23],\n    [48, 17], \n    [58, 25],\n    [68, 25],\n    [72, 21],\n    [88, 22],\n    [92, 25],\n    [96, 22],\n    [107, 23],\n    [111, 25],\n    [127, 20],\n    [131, 20],\n    [135, 23],\n    [139, 23],\n    [143, 23],\n    [161, 21],\n    [172, 21],\n    [193, 18],\n    [200, 23],\n    [208, 23],\n    [213, 18],\n    [223, 23],\n    [227, 25],\n    [231, 28],\n    ];\n\nvar X_FACTOR = 58;\nvar Y_FACTOR = 16;\n\nvar IMAGE_PREFIX = \"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/\";\nwin.imageL = new Image();\nwin.imageM = new Image();\nwin.imageR = new Image();\n\nwin.imageL.src = IMAGE_PREFIX + \"road1-1.png\";\nwin.imageM.src = IMAGE_PREFIX + \"road1-2.png\";\nwin.imageR.src = IMAGE_PREFIX + \"road1-3.png\";\n\nvar makePlatform = function(pda) {\n    var drawPlatform = function(canvas) {\n        var image = this.getBgImage();\n\n        if(image) {\n            var srcRect = image.getImageRect();\n            image = image.getImage();\n            this.drawImageAt(canvas, image, this.images.display, 0, 0, this.w, this.h, srcRect);\n        }\n        \n        var srcRect = {x:0, y:0, w:win.imageM.width, h:win.imageM.height};\n        var sl = win.imageL.width;\n        this.drawImageAt(canvas, win.imageM, UIElement.IMAGE_DISPLAY_TILE_H, sl + 12, 0, this.w - 2*sl - 24, this.h - 10, srcRect);\n        \n        return;\n        /*\n        var platform = this;\n        if(win.imageL.width <= 0 || win.imageM.width <= 0 || win.imageR.width <= 0) {\n            return;\n        }\n        var srcRect = {};\n        \n        srcRect = {x:0, y:0, w:win.imageL.width, h:win.imageL.height};\n        platform.drawImageAt(canvas, win.imageL, UIElement.IMAGE_DISPLAY_TILE_H, 0, 0, srcRect.w, platform.h, srcRect);\n        \n        srcRect = {x:0, y:0, w:win.imageM.width, h:win.imageM.height};\n        var sl = win.imageL.width;\n        platform.drawImageAt(canvas, win.imageM, UIElement.IMAGE_DISPLAY_TILE_H, sl, 0, platform.w - 2*sl, platform.h, srcRect);\n        \n        srcRect = {x:0, y:0, w:win.imageR.width, h:win.imageR.height};\n        platform.drawImageAt(canvas, win.imageR, UIElement.IMAGE_DISPLAY_TILE_H, platform.w - srcRect.w, 0, srcRect.w, platform.h, srcRect);\n        */\n    };\n\n    for(var i = 0; i < pda.length; i++) {\n        var d = pda[i];\n        var p = win.dupChild(\"platform\", 2);\n        p.resize(d[2] * X_FACTOR, d[3] * Y_FACTOR);\n        p.setPosition(d[0] * X_FACTOR, win.h - d[1] * Y_FACTOR);\n        p.drawBgImage = drawPlatform;\n        p.paintSelfOnly = function() {};\n    }\n    console.log(\"platform 0 y:\" + (win.h - pda[0][1] * Y_FACTOR));\n\n    win.find(\"platform\").setVisible(false);\n    win.find(\"platform\").setEnable(false);\n};\n\nvar makeSpine = function(sda) {\n    sda.forEach(\n        function(e) {\n            var sp = win.dupChild(\"spine\");\n            sp.setPosition(e[0] * X_FACTOR, win.h - e[1]*Y_FACTOR - 51);\n            sp.paintSelfOnly = function() {};\n            sp.paintChildren = function() {};\n        }\n    );\n    win.find(\"spine\").setVisible(false);\n    win.find(\"spine\").setEnable(false);\n};\n\nvar makeFood = function(fda) {\n    fda.forEach(\n        function(e) {\n            var sp = win.dupChild(\"food\");\n            sp.setPosition(e[0] * X_FACTOR, win.h - e[1]*Y_FACTOR - 51);\n            sp.paintSelfOnly = function() {};\n            sp.paintChildren = function() {};\n        }\n    );\n    win.find(\"food\").setVisible(false);\n    win.find(\"food\").setEnable(false);\n};\n\nvar endPosition = [236, 19];\nvar end = win.find(\"end\");\nend.setPosition(endPosition[0] * X_FACTOR, win.h - endPosition[1] * Y_FACTOR - 51);\nend.paintSelfOnly = function() {};\n\nmakePlatform(platformData);\nmakeSpine(spineData);\nmakeFood(foodData);\n\n\nvar WIN_H = win.getVirtualHeight();\nvar WIN_W = win.getVirtualWidth();\nvar TREE_SIZE = [\n    {s:150, l:600},\n    {s:155, l:650},\n    {s:160, l:600},\n    {s:170, h:650},\n    {s:175, h:600},\n];\n\nvar trees = [];\n\nvar SPRITE_V_X = 4;\nvar SPRITE_V_Y = -10;\n\nvar MOVING_TIMER_INTERVAL = 20;\nvar TREE_NUM_PER_WIN = 15;\n\nvar LAYER_FAR = 0;\nvar LAYER_MIDDLE = 1;\nvar LAYER_NEAR = 2;\nfunction Tree() {\n    Tree.layerToColor = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return \"#5E5E5E\";\n            case LAYER_MIDDLE:\n                return \"#668B8B\";\n            case LAYER_FAR:\n                return \"#698B69\";\n        }\n    };\n    Tree.layerToV = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return {x:-0.7 * SPRITE_V_X, y:0};\n            case LAYER_MIDDLE:\n                return {x:-0.6 * SPRITE_V_X, y:0};\n            case LAYER_FAR:\n                return {x:-0.5 * SPRITE_V_X, y:0};\n        }\n    };\n    var imageSrc  = [\n            [\"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/treeC1.png\",\n             \"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/treeC2.png\"\n            ],\n            \n            [\"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/treeB1.png\",\n             \"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/treeB2.png\"\n            ],\n            \n            [\"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/treeA1.png\",\n             \"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/treeA2.png\"\n            ]\n    ];\n    Tree.layerToImage = function(layer) {\n        return imageSrc[layer][Math.floor(Math.random()*2)];\n    };\n    Tree.prototype.init = function(x, y, s, l, layer) {\n        this.x = x;\n        this.y = y;\n        this.s = s; //短边\n        this.l = l;\n        this.layer = layer; //长边\n        this.v = {x:0, y:0};\n        this.image = new Image();\n        this.image.src = Tree.layerToImage(this.layer);\n    };\n    Tree.prototype.setV = function(v) {\n        this.v = {};\n        this.v.x = v.x ? v.x : 0;\n        this.v.y = v.y ? v.y : 0;\n    };\n    Tree.prototype.startMove = function() {\n        if(this.timerID) {\n            return;\n        }\n        this.setV(Tree.layerToV(this.layer));\n        var tree = this;\n        function onTimer() {\n            tree.x += tree.v.x;\n            tree.y += tree.v.y;\n        }\n        this.timerID = setInterval(onTimer, MOVING_TIMER_INTERVAL);\n    };\n    Tree.prototype.stopMove = function() {\n        if(this.timerID) {\n            clearInterval(this.timerID);\n            this.timerID = 0;\n        }\n    };\n}\n\nfunction makeBgTree(num, basex) {\n    for(var i = 0; i < num; i++) {\n        var tree = new Tree();\n        var size = TREE_SIZE[Math.floor(Math.random() * TREE_SIZE.length)];\n        tree.init(basex + Math.random() * win.h, (0.9 + 0.1 * Math.random())* win.h, size.s, size.l, Math.floor(Math.random() * (LAYER_NEAR + 1)));\n        tree.startMove();\n        trees.push(tree);\n    }\n}\n\nwin.drawIt = function(ctx) {\n    ctx.rect(0,0,win.w,win.h);\n    ctx.clip();\n    \n    //draw bg \n    ctx.fillStyle = \"#643082\";\n    ctx.fillRect(0, 0, win.w, win.h);\n\n    function layerToAlpha(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return 0.8;\n            case LAYER_MIDDLE:\n                return 0.6;\n            case LAYER_FAR:\n                return 0.4;\n        }\n    }\n    for(var layer = LAYER_FAR; layer <= LAYER_NEAR; layer++) {\n        //draw trees\n        trees.forEach(\n            function(e) {\n                if(layer != e.layer || e.x > win.w) {\n                    return;\n                }\n                ctx.drawImage(e.image, 0, 0, e.image.width, e.image.height, e.x, 0, e.image.width, e.y);\n                //ctx.drawImage(e.image, 0, 0, e.image.width, e.image.height, e.x, e.y - e.image.height, e.image.width, e.image.height);\n            }\n        );\n    }\n    \n    //draw sea \n    ctx.fillStyle = \"#3376C3\";\n    ctx.fillRect(0, win.h * 7/10, win.w, win.h * 1/8);\n    ctx.fillStyle = \"#2a51a8\";\n    ctx.fillRect(0, win.h * (7/10 + 1/8), win.w, win.h * 1/32);\n    ctx.fillStyle = \"#28448e\";\n    ctx.fillRect(0, win.h * (7/10 + 1/8 + 1/32), win.w, win.h * 1/32);\n    ctx.fillStyle = \"#233671\";\n    ctx.fillRect(0, win.h * (7/10 + 1/8 + 1/16), win.w, win.h * 1/5);\n};\n\nwin.paintSelfOnly = function(canvas) {\n    win.drawIt(canvas);\n};\n\nfunction simpleSort(a, b) {\n    return a.x - b.x;\n}\nfunction level1BGCreate() {\n    makeBgMountain(MOUNTAIN_NUM_PER_WIN, 0);\n    makeBgMountain(MOUNTAIN_NUM_PER_WIN, win.w);\n    makeBgCloud(CLOUD_NUM_PER_WIN, 0);\n    makeBgCloud(CLOUD_NUM_PER_WIN, win.w);\n}\nfunction level2BGCreate() {\n    makeBgTree(TREE_NUM_PER_WIN, 0);\n    makeBgTree(TREE_NUM_PER_WIN, win.w);\n}\nfunction level1BGMoved() {\n    clouds.sort(simpleSort);\n    mountains.sort(simpleSort);\n    if(mountains[0].x + mountains[0].s < 0) {\n        var m = mountains.shift();\n        m.stopMove();\n    }\n    if(clouds[0].x + clouds[0].w < 0) {\n        var c = clouds.shift();\n        c.stopMove();\n    }\n    if(mountains.length < 2 * MOUNTAIN_NUM_PER_WIN) {\n        makeBgMountain(MOUNTAIN_NUM_PER_WIN, win.w);\n    }\n    if(clouds.length < 2 * CLOUD_NUM_PER_WIN) {\n        makeBgCloud(CLOUD_NUM_PER_WIN, win.w);\n    }\n}\n\nfunction level2BGMoved() {\n    trees.sort(\n        function(a, b) {\n            return a.x - b.x;\n        }\n    );\n    //console.log(\"tree x:\" + trees[0].x + \" tree s:\" + trees[0].s);\n    if(trees[0].x + trees[0].s < 0) {\n        var m = trees.shift();\n        m.stopMove();\n    }\n    if(trees.length < 2 * TREE_NUM_PER_WIN) {\n        makeBgTree(TREE_NUM_PER_WIN, win.w);\n    }\n}\n\nfunction level1BGDestroy() {\n    mountains.forEach(function(e){e.stopMove();});\n    clouds.forEach(function(e){e.stopMove();});\n}\n\nfunction level2BGDestroy() {\n    trees.forEach(function(e) {e.stopMove();});\n}\n\nfunction GameDirector() {\n    var GAME_STATE_RUNNING = 0;\n    var GAME_STATE_ENDING = 1;\n    var GAME_STATE_OVER = 2;\n    var gameWinStr = [\n        \"level-1\",\n        \"level-2\",\n        \"level-3\",\n        ];\n    var bgCreateFuncs = [\n        level1BGCreate,\n        level2BGCreate,\n        ];\n    var bgMovedFuncs = [\n        level1BGMoved,\n        level2BGMoved,\n        ];\n    var bgDestoryFuncs = [\n        level1BGDestroy,\n        level2BGDestroy,\n        ];\n    \n    GameDirector.DISMISS_ANIMATE = {scaleXEnd:1.5, scaleYEnd:1.5, rotationEnd:Math.PI * 0.5, duration:150};\n    GameDirector.DISMISS_ANIMATE.next = {scaleXEnd:0, scaleYEnd:0, rotationEnd:Math.PI, duration:250};\n\n    \n    GameDirector.prototype.init = function(win, level) {\n        this.win = win;\n        this.gameState = GAME_STATE_RUNNING;\n        this.level = level;\n    }\n    GameDirector.prototype.setActor = function(redcap) {\n        this.redcap = redcap;\n    }\n    GameDirector.prototype.playSoundMusic = function(name) {\n        var win = this.win;\n        this.win.playSoundMusic(name, function onDone() {console.log(\"play finished\");});\n    }\n    GameDirector.prototype.playSoundEffect = function(name) {\n        this.win.playSoundEffect(name, function onDone() {console.log(\"play finished\");});\n    }\n    GameDirector.prototype.isGameOver = function() {\n        return this.gameState === GAME_STATE_OVER;\n    }\n    GameDirector.prototype.startGame = function() {\n        bgCreateFuncs[this.level]();\n        this.redcap.startRun();\n    }\n    GameDirector.prototype.startJump = function() {\n        if(this.isGameOver()) {\n            return;\n        }\n        this.redcap.startJump();\n    }\n    GameDirector.prototype.endJump = function() {\n        if(this.isGameOver()) {\n            return;\n        }\n        this.redcap.endJump();\n    }\n    GameDirector.prototype.gameOver = function(success) {\n        if(this.gameState === GAME_STATE_OVER) {\n            return;\n        }\n        if(!success) {\n            this.playSoundEffect(\"tangram-over.mp3\");\n        }\n        this.gameState = GAME_STATE_OVER;\n        \n        bgDestoryFuncs[this.level]();\n        \n        var redcap = this.redcap;\n        var director = this;\n        function onDead() {\n            var store = window.localStorage;\n            var percentage = 0;\n            if(!success) {\n                percentage = Math.floor(100 * redcap.box.x / win.getVirtualWidth());\n            } else {\n                percentage = 100;\n            }\n            redcap.onDead();\n            var prefix = director.level + \"-\";\n            store.setItem(prefix + \"percentage\", percentage);\n            store.setItem(prefix + \"jumpcount\", redcap.jumpcount);\n            var tryingcount = store.getItem(prefix + \"tryingcount\");\n            store.setItem(prefix + \"tryingcount\", ++tryingcount);\n            \n            var initData = {percentage:percentage, jumpcount:redcap.jumpcount, tryingcount:tryingcount, gameWinStr:\"level-2\"};\n            win.openWindow(\"win-dead\", \n    \t        function (retData) {console.log(\"window closed.\");}, false, initData);\n        }\n        setTimeout(onDead, 500);\n    }\n    GameDirector.prototype.onRedcapMoved = function(sprite) {\n        if(this.isGameOver()) {\n            return;\n        }\n        bgMovedFuncs[this.level]();\n        var v = sprite.getV();\n        sprite.setV(SPRITE_V_X, v.y);\n    }\n    GameDirector.prototype.onBeginContact = function(body) {\n        this.redcap.onBeginContact(body);\n    }\n};\n\nfunction Redcap() {\n    Redcap.prototype.init = function(win, director) {\n        this.win = win;\n        this.director = director;\n        this.sprite = win.find(\"me/ui-skeleton-animation-general\");\n        this.box = win.find(\"me\");\n        this.jumpcount = 0;\n        this.jumpTimerID = 0;\n        this.jumpTime = 0;\n        director.setActor(this);\n    };\n    Redcap.prototype.startJump = function() {\n        var redcap = this;\n        var box = this.box;    \n        var sprite = this.sprite;\n        \n        var v = box.getV();\n        if(this.jumpTime === 0) {\n            if(this.director.isGameOver() || v.y  > 2 || v.y < -2) {\n                return;\n            }\n        }\n        \n        if(this.jumpTime > 0) {\n            --this.jumpTime;\n        }\n\n        this.director.playSoundEffect(\"tangram-jump2.mp3\");\n        sprite.play(\"jump\");\n        this.jumpcount++;\n        box.setV(box.getV().x, SPRITE_V_Y);\n    \n        var timerCount = 30;\n        function onTimer() {\n            var v = box.getV();\n            if(--timerCount <= 0) {\n                sprite.play(\"run\");\n                clearInterval(redcap.jumpTimerID);\n                redcap.jumpTimerID = 0;\n                v.y += -0.2 * SPRITE_V_Y;\n            }\n            if(v.y < 0 && v.y > -1) {\n                v.y -= 0.5;\n            }\n            box.setV(v.x, v.y);\n        }\n        redcap.jumpTimerID = setInterval(onTimer, MOVING_TIMER_INTERVAL);\n    }\n    Redcap.prototype.endJump = function(){\n        if(this.jumpTimerID) {\n            clearInterval(this.jumpTimerID);\n            this.jumpTimerID = 0;\n        }\n        var v = this.box.getV();\n        if(v.y < 0) {\n            v.y = -0.2 * SPRITE_V_Y;\n        }\n        this.sprite.play(\"run\");\n        this.box.setV(v.x, v.y);\n    }\n    \n    Redcap.prototype.onBeginContact = function(body) {\n        if(this.director.isGameOver()) {\n            this.box.setEnable(false);\n            return;\n        }\n        var name = body.name;\n        var gameOver = false;\n        var success = false;\n        if(name.indexOf(\"spine\") === 0 \n                || name.indexOf(\"wall\") === 0\n                || name.indexOf(\"ground\") === 0) {\n            gameOver = true;\n        } else if(body.name.indexOf(\"platform\") === 0) {\n            if(body.element.x > this.x + this.w - 10) {\n                gameOver = true;\n            }\n            this.jumpTime = 0;\n        } else if(body.name.indexOf(\"end\") === 0) {\n            this.box.setVisible(false);\n            body.element.animate(GameDirector.DISMISS_ANIMATE);\n            gameOver = true;\n            success = true;\n        } else if(body.name.indexOf(\"food\") === 0) {\n            body.element.animate(GameDirector.DISMISS_ANIMATE);\n            this.jumpTime = 1;\n        } else if(body.name.indexOf(\"colorful-food\") === 0) {\n            body.element.animate(GameDirector.DISMISS_ANIMATE);\n            this.jumpTime = -1;\n        }\n        \n        if(gameOver) {\n            this.director.gameOver(success);\n            \n            if(success) {\n                this.box.setV(0, 0);\n                var cfg = {scaleXEnd:0, scaleYEnd:0, rotationEnd:Math.PI * 2, duration:350};\n                this.sprite.animate(cfg);\n            } else {\n                //this.director.playSoundEffect(\"tangram-over.mp3\");\n                this.sprite.play(\"fall\");\n                this.box.setV(-3, -6);\n            }\n        }\n    };\n    \n    Redcap.prototype.startRun = function() {\n        this.box.setPosition(this.box.x, win.h - platformData[0][1] * Y_FACTOR - 50);\n        this.sprite.play(\"run\");\n        this.box.setV(SPRITE_V_X, 0);\n    };\n    \n    Redcap.prototype.onDead = function() {\n        this.box.setVisible(false);\n    }\n}\n\nvar initGame = function() {\n    win.director = new GameDirector();\n    win.director.init(win, 1);\n    win.redcap = new Redcap();\n    win.redcap.init(win, win.director);\n    win.director.startGame();\n    win.setCameraFollowParams(0.3, 0.3);\n};\ninitGame();\n\n\n",
								"onClose": null,
								"onSwitchToBack": null,
								"onSwitchToFront": null,
								"onGesture": null,
								"onKeyDown": null,
								"onKeyUp": null,
								"onPointerDown": "var win = this;\nwin.director.startJump();",
								"onPointerMove": null,
								"onPointerUp": "var win = this;\nwin.director.endJump();",
								"onDoubleClick": null,
								"onSwipeLeft": null,
								"onSwipeRight": null,
								"onSwipeUp": "",
								"onSwipeDown": null
							},
							"images": {
								"display": 3
							},
							"children": [
								{
									"type": "ui-timer",
									"name": "ui-timer-general",
									"w": 85,
									"h": 78,
									"x": 10,
									"y": 16,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 14431,
									"runtimeVisible": false,
									"times": 10000000,
									"duration": 30,
									"delayStart": 0,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUITimer": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onTimeout": "this.getWindow().postRedraw();"
									},
									"images": {
										"display": 4,
										"default_bg": "drawapp8/images/timer.png"
									}
								},
								{
									"type": "ui-box",
									"name": "platform",
									"w": 362,
									"h": 140,
									"x": 0,
									"y": 410,
									"text": "",
									"hMargin": 10,
									"vMargin": 10,
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 15865,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "",
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 2,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL2/2road1-a1.png"
									}
								},
								{
									"type": "ui-box",
									"name": "wall",
									"w": 14000,
									"h": 26,
									"x": 0,
									"y": 596,
									"text": "",
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 98,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 1,
									"widthAttr": 2,
									"heightAttr": 0,
									"uid": 17299,
									"runtimeVisible": false,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"sticky": false,
									"isSensor": false,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "",
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0
									}
								},
								{
									"type": "ui-sound-music",
									"name": "ui-sound-music-general",
									"w": 80,
									"h": 80,
									"x": 373,
									"y": 20,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 10636,
									"runtimeVisible": false,
									"roundRadius": 3,
									"value": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUISoundMusic": true,
									"isUICheckBox": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 16,
										"textColorOn": "Black",
										"fillColorOn": "White",
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onChanged": null,
										"onUpdateTransform": "this.setScale(this.pointerDown?1.1:1);"
									},
									"images": {
										"display": 0,
										"checked_fg": "cantk-game/assets/images/sound-music-on.png",
										"unchecked_fg": "cantk-game/assets/images/sound-music-off.png"
									}
								},
								{
									"type": "ui-sound-effects",
									"name": "ui-sound-effects-general",
									"w": 80,
									"h": 80,
									"x": 202,
									"y": 19,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 10631,
									"runtimeVisible": false,
									"roundRadius": 3,
									"value": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUISoundEffects": true,
									"isUICheckBox": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 16,
										"textColorOn": "Black",
										"fillColorOn": "White",
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onChanged": null,
										"onUpdateTransform": "this.setScale(this.pointerDown?1.1:1);"
									},
									"images": {
										"display": 0,
										"checked_fg": "cantk-game/assets/images/sound-effects-on.png",
										"unchecked_fg": "cantk-game/assets/images/sound-effects-off.png"
									}
								},
								{
									"type": "ui-box",
									"name": "me",
									"w": 30,
									"h": 50,
									"x": 49,
									"y": 337,
									"text": "",
									"opacity": 0,
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17206,
									"runtimeVisible": true,
									"density": 10,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"longPressed": false,
									"cameraFollowMe": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "this.getWindow().director.onBeginContact(body);",
										"onEndContact": null,
										"onMoved": "this.getWindow().director.onRedcapMoved(this);"
									},
									"images": {
										"display": 0
									},
									"children": [
										{
											"type": "ui-skeleton-animation",
											"name": "ui-skeleton-animation-general",
											"w": 30,
											"h": 50,
											"x": 0,
											"y": 0,
											"text": "",
											"opacity": 0.98,
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 18684,
											"runtimeVisible": true,
											"wMin": 50,
											"hMin": 50,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"skeletonJsonURL": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/skeleton4.json",
											"textureJsonURL": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/texture4.json",
											"textureURL": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/texture4.png",
											"isUIDragonBones": true,
											"isUIElement": true,
											"hasChildren": true,
											"density": 1,
											"friction": 0.5,
											"restitution": 0.5,
											"animationScale": 1,
											"animationName": "walk",
											"isUISkeletonAnimation": true,
											"longPressed": false,
											"style": {
												"lineWidth": 2,
												"lineColor": "Orange",
												"fillColor": "White",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null,
												"onDoubleClick": null,
												"onUpdateTransform": null,
												"onLoadDone": null
											},
											"images": {
												"display": 2
											}
										}
									]
								},
								{
									"type": "ui-polygon",
									"name": "spine",
									"w": 66,
									"h": 76,
									"x": 302,
									"y": 204,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17300,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIPolygon": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 1,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": null,
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/ci.png"
									},
									"children": [
										{
											"type": "ui-point",
											"name": "ui-point",
											"w": 20,
											"h": 20,
											"x": 23,
											"y": 1,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 17301,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIPoint": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "#7d471b",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0
											}
										},
										{
											"type": "ui-point",
											"name": "ui-point",
											"w": 20,
											"h": 20,
											"x": 46,
											"y": 53,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 17302,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIPoint": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "#7d471b",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0
											}
										},
										{
											"type": "ui-point",
											"name": "ui-point",
											"w": 20,
											"h": 20,
											"x": 1,
											"y": 55,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 17303,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIPoint": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "#7d471b",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0
											}
										}
									]
								},
								{
									"type": "ui-box",
									"name": "food",
									"w": 60,
									"h": 60,
									"x": 194,
									"y": 221,
									"text": "",
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 23510,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isBullet": false,
									"isSensor": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": null,
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/block.png"
									}
								},
								{
									"type": "ui-box",
									"name": "end",
									"w": 60,
									"h": 60,
									"x": 13688,
									"y": 304,
									"text": "",
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 23510,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isBullet": false,
									"isSensor": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": null,
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/zhongdian.png"
									}
								}
							]
						},
						{
							"type": "ui-scene",
							"name": "level-3",
							"w": 480,
							"h": 720,
							"x": 0,
							"y": 0,
							"text": "",
							"enable": true,
							"visible": true,
							"xAttr": 0,
							"yAttr": 0,
							"widthAttr": 2,
							"heightAttr": 2,
							"uid": 16617,
							"runtimeVisible": true,
							"animHint": "none",
							"xOffset": 0,
							"yOffset": 0,
							"virtualWidth": 15600,
							"virtualHeight": 0,
							"autoClearForce": true,
							"xParam": 1,
							"yParam": 1,
							"widthParam": 1,
							"heightParam": 1,
							"isUIScene": true,
							"isUINormalWindow": true,
							"isUIWindow": true,
							"isUIElement": true,
							"hasChildren": true,
							"gravityY": 30,
							"pixelsPerMeter": 100,
							"enablePhysics": true,
							"longPressed": false,
							"fps": 50,
							"showFPS": true,
							"locked": false,
							"style": {
								"lineWidth": 2,
								"lineColor": "#C8C8C8",
								"fillColor": "White",
								"textColor": "Blue",
								"fontSize": 15,
								"fontFamily": "sans"
							},
							"events": {
								"onClick": null,
								"onSystemInit": null,
								"onLoad": null,
								"onUnload": null,
								"onOpen": "\n",
								"onBeforeOpen": "var win = this;\nwin.resetGame();\n\nvar platformData = [\n    [0, 26, 10, 3, {grass:true}],\n    [16, 24, 5, 12],\n    [29, 17.8, 1.3, 6],\n    [34, 20.8, 1.3, 9],\n    [43, 26, 5.6, 14],\n    [54, 18, 8, 6],\n    [65, 18, 1.3, 6],\n    [66, 15, 3, 3],\n    [71, 15, 4, 3],\n    [75, 21, 1.3, 9],\n    [77, 18, 2, 6],\n    [81, 26, 3, 14],\n    [85, 21, 4, 3, {grass:true}],\n    [91, 21, 3, 3, {grass:true}],\n    [117, 21, 1.3, 9],\n    [121, 24, 1.3, 12],\n    [125, 15, 1.3, 3],\n    [129, 24, 1.3, 12],\n    [133, 29, 1.3, 17],\n    [137, 21, 1.3, 9],\n    [145, 18, 1.3, 6],\n    [153, 21, 8, 9],\n    [165, 15, 1.3, 3],\n    [170, 15, 1.3, 3],\n    [175, 18, 3, 6],\n    [179, 21, 3, 3, {grass:true}],\n    [183, 18, 3, 6],\n    [190, 15, 1.3, 3],\n    [193, 15, 1.3, 3],\n    [199, 15, 1.3, 3],\n    [202, 21, 4, 9],\n    [212, 26, 1.3, 14],\n    [218, 26, 1.3, 14],\n    [227, 15, 3, 3],\n    [230, 18, 4, 6],\n    [234, 15, 5, 3],\n    [241, 15, 4, 3],\n    [245, 18, 5, 6],\n    [264, 29, 1.3, 17],\n    \n    //ceiling\n    [29, 57, 1, 24],\n    [34, 57, 1, 27],\n    [58, 57, 2, 35],\n    [102, 57, 8, 32],\n    [117, 57, 1, 25],\n    [121, 57, 1, 22],\n    [125, 57, 1, 30],\n    [129, 57, 1, 22],\n    [137, 57, 1, 28],\n    [141, 57, 1, 33],\n    [145, 57, 1, 27],\n    [157, 57, 2, 33],\n    [227, 57, 3, 25],\n    [230, 57, 4, 22],\n    [234, 57, 2, 25],\n    [236, 57, 3, 28],\n    [239, 57, 2, 22],\n    [241, 57, 5, 25],\n    [246, 57, 4, 22],\n    ];\nvar spineData = [\n    [43, 26],\n    [44, 26],\n    [45, 26],\n    [46, 26],\n    [47, 26],\n    [65, 18],\n    [71, 15],\n    [75, 21],\n    [85, 21],\n    [88, 21],\n    [91, 21],\n    [92, 21],\n    [93, 21],\n    [125, 15],\n    [140, 13],\n    [141, 13],\n    [142, 13],\n    [145, 18],\n    [179, 21],\n    [180, 21],\n    [181, 21],\n    [193, 13],\n    [212, 26],\n    [218, 26],\n    [227, 15],\n    [227, 30,  {flipY:true}],\n    [228, 15],\n    [228, 30,  {flipY:true}],\n    [229, 15],\n    [229, 30,  {flipY:true}],\n    [230, 18],\n    [230, 36,  {flipY:true}],\n    [231, 18],\n    [231, 36,  {flipY:true}],\n    [232, 18],\n    [232, 36,  {flipY:true}],\n    [233, 18],\n    [233, 36,  {flipY:true}],\n    [234, 15],\n    [234, 33,  {flipY:true}],\n    [235, 15],\n    [235, 33,  {flipY:true}],\n    [236, 15],\n    [236, 30,  {flipY:true}],\n    [237, 15],\n    [237, 30,  {flipY:true}],\n    [238, 15],\n    [238, 30,  {flipY:true}],\n    [239, 13],\n    [239, 36,  {flipY:true}],\n    [240, 13],\n    [240, 36,  {flipY:true}],\n    [241, 15],\n    [241, 33,  {flipY:true}],\n    [242, 15],\n    [242, 33,  {flipY:true}],\n    [243, 15],\n    [243, 33,  {flipY:true}],\n    [244, 15],\n    [244, 33,  {flipY:true}],\n    [245, 18],\n    [245, 33,  {flipY:true}],\n    [246, 18],\n    [246, 36,  {flipY:true}],\n    [247, 18],\n    [247, 36,  {flipY:true}],\n    [248, 18],\n    [248, 36,  {flipY:true}],\n    [249, 18],\n    [249, 36,  {flipY:true}],\n    [250, 18],\n    [250, 36,  {flipY:true}],\n    ];\nvar foodData = [\n    [209, 21],\n    [215, 21],\n    ];\nvar colorfulFoodData = [\n    [10, 28],\n    [92, 25],\n    [221, 21],\n    ];\n\nvar X_FACTOR = 58;\nvar Y_FACTOR = 16;\n\nvar IMAGE_PREFIX = \"http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/\";\nwin.imageM = new Image();\nwin.imageM.src = IMAGE_PREFIX + \"1road2-a2.png\";\n\nvar makePlatform = function(pda) {\n    var drawPlatform = function(canvas) {\n\n        var image = this.getBgImage();\n        if(image) {\n            var srcRect = image.getImageRect();\n            image = image.getImage();\n            this.drawImageAt(canvas, image, this.images.display, 0, 0, this.w, this.h, srcRect);\n        }\n        if(this.h > Y_FACTOR && !this.grass) {\n            //var srcRect = {x:0, y:0, w:win.imageM.width, h:win.imageM.height};\n            //this.drawImageAt(canvas, win.imageM, UIElement.IMAGE_DISPLAY_TILE, 24, 22, this.w - 24 - 24, this.h - 30, srcRect);\n        }\n        \n        return;\n    };\n\n    for(var i = 0; i < pda.length; i++) {\n        var d = pda[i];\n        var p = win.dupChild(\"platform\", 2);\n        p.resize(d[2] * X_FACTOR, d[3] * Y_FACTOR);\n        p.setPosition(d[0] * X_FACTOR, win.h - d[1] * Y_FACTOR);\n        if(d[1] >= 50) {\n            p.setBgImage(IMAGE_PREFIX + \"daozhe.png\");\n        }\n        if(d[4]) {\n            p.grass = true;\n            p.setBgImage(IMAGE_PREFIX + \"zhengzhe.png\");\n        }\n\n        p.drawBgImage = drawPlatform;\n    }\n    console.log(\"platform 0 y:\" + (win.h - pda[0][1] * Y_FACTOR));\n\n    win.find(\"platform\").setVisible(false);\n    win.find(\"platform\").setEnable(false);\n};\n\nvar makeSpine = function(sda) {\n    sda.forEach(\n        function(e) {\n            var sp = win.dupChild(\"spine\");\n            var w = sp.w;\n            var h = sp.h;\n            sp.setPosition(e[0] * X_FACTOR + 20, win.h - e[1]*Y_FACTOR - 31);\n            sp.resize(0.6*w, 0.6*h);\n            sp.paintSelfOnly = function() {};\n            sp.paintChildren = function() {};\n            if(e[2]) {\n                sp.setFlipY(e[2].flipY);\n                sp.setZIndex(10);\n            }\n        }\n    );\n    win.find(\"spine\").setVisible(false);\n    win.find(\"spine\").setEnable(false);\n};\n\nvar makeFood = function(fda) {\n    fda.forEach(\n        function(e) {\n            var sp = win.dupChild(\"food\");\n            sp.setPosition(e[0] * X_FACTOR, win.h - e[1]*Y_FACTOR - 51);\n            sp.paintSelfOnly = function() {};\n            sp.paintChildren = function() {};\n        }\n    );\n    win.find(\"food\").setVisible(false);\n    win.find(\"food\").setEnable(false);\n};\n\nvar makeColorfullData = function(fda) {\n    fda.forEach(\n        function(e) {\n            var sp = win.dupChild(\"colorful-food\");\n            sp.setPosition(e[0] * X_FACTOR, win.h - e[1]*Y_FACTOR - 51);\n            sp.paintSelfOnly = function() {};\n        }\n    );\n    win.find(\"colorful-food\").setVisible(false);\n    win.find(\"colorful-food\").setEnable(false);\n};\n\n\nvar endPosition = [264, 30];\nvar end = win.find(\"end\");\nend.setPosition(endPosition[0] * X_FACTOR, win.h - endPosition[1] * Y_FACTOR - 51);\nend.paintSelfOnly = function() {};\n\nmakePlatform(platformData);\nmakeSpine(spineData);\nmakeFood(foodData);\nmakeColorfullData(colorfulFoodData);\n\nvar WIN_H = win.getVirtualHeight();\nvar WIN_W = win.getVirtualWidth();\n\nvar CLOUD_SIZE = [\n    {w:230, h:50},\n    {w:230, h:55},\n    {w:280, h:60},\n];\nvar MOUNTAIN_SIZE = [\n    {s:300, l:100, h:200, m:250},\n    {s:350, l:150, h:300, m:350},\n    {s:400, l:200, h:350, m:400},\n    {s:550, l:250, h:400, m:450},\n    {s:600, l:300, h:450, m:500},\n];\n\nvar mountains = [];\nvar clouds = [];\n\nMOUNTAIN_NUM_PER_WIN = 3;\nCLOUD_NUM_PER_WIN = 2;\n\nvar SPRITE_V_X = 5.2;\nvar SPRITE_V_Y = -10;\n\nvar MOVING_TIMER_INTERVAL = 20;\n\nvar LAYER_FAR = 0;\nvar LAYER_MIDDLE = 1;\nvar LAYER_NEAR = 2;\n\nfunction Cloud() {\n    Cloud.layerToColor = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return \"#444444\";\n            case LAYER_MIDDLE:\n                return \"#555555\";\n            case LAYER_FAR:\n                return \"#666666\";\n        }\n    };\n    Cloud.layerToV = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return {x:-0.7 * SPRITE_V_X, y:0};\n            case LAYER_MIDDLE:\n                return {x:-0.6 * SPRITE_V_X, y:0};\n            case LAYER_FAR:\n                return {x:-0.5 * SPRITE_V_X, y:0};\n        }\n    };\n    Cloud.prototype.init = function(x, y, w, h, layer) {\n        this.x = x;\n        this.y = y;\n        this.h = h;\n        this.w = w;\n        this.layer = layer;\n        this.v = {x:0, y:0};\n    };\n    Cloud.prototype.setV = function(v) {\n        this.v = {};\n        this.v.x = v.x ? v.x : 0;\n        this.v.y = v.y ? v.y : 0;\n    };\n    Cloud.prototype.startMove = function() {\n        if(this.timerID) {\n            return;\n        }\n        var cloud = this;\n        this.setV(Cloud.layerToV(this.layer));\n        function onTimer() {\n            cloud.x += cloud.v.x;\n            cloud.y += cloud.v.y;\n        }\n        this.timerID = setInterval(onTimer, MOVING_TIMER_INTERVAL);\n    };\n    Cloud.prototype.stopMove = function() {\n        if(this.timerID) {\n            clearInterval(this.timerID);\n            this.timerID = 0;\n        }\n    };\n}\nfunction Mountain() {\n    Mountain.layerToColor = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return \"#346279\";\n            case LAYER_MIDDLE:\n                return \"#698D9D\";\n            case LAYER_FAR:\n                return \"#346279\";\n        }\n    };\n    Mountain.layerToV = function(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return {x:-0.7 * SPRITE_V_X, y:0};\n            case LAYER_MIDDLE:\n                return {x:-0.6 * SPRITE_V_X, y:0};\n            case LAYER_FAR:\n                return {x:-0.5 * SPRITE_V_X, y:0};\n        }\n    };\n    Mountain.prototype.init = function(x, y, s, l, h, m, layer) {\n        this.x = x;\n        this.y = y;\n        this.s = s; //短边\n        this.l = l;\n        this.h = h;\n        this.m = m;\n        this.layer = layer; //长边\n        this.v = 0;\n    };\n    Mountain.prototype.setV = function(v) {\n        this.v = {};\n        this.v.x = v.x ? v.x : 0;\n        this.v.y = v.y ? v.y : 0;\n    };\n    Mountain.prototype.startMove = function() {\n        if(this.timerID) {\n            return;\n        }\n        var cloud = this;\n        this.setV(Mountain.layerToV(this.layer));\n        function onTimer() {\n            cloud.x += cloud.v.x;\n            cloud.y += cloud.v.y;\n        }\n        this.timerID = setInterval(onTimer, MOVING_TIMER_INTERVAL);\n    };\n    Mountain.prototype.stopMove = function() {\n        if(this.timerID) {\n            clearInterval(this.timerID);\n            this.timerID = 0;\n        }\n    };\n}\n\nfunction makeBgCloud(num, basex) {\n    for(var i = 0; i < num; i++) {\n        var cloud = new Cloud();\n        var size = CLOUD_SIZE[Math.floor(Math.random() * CLOUD_SIZE.length)];\n        cloud.init(basex + Math.random() * win.w, Math.random() * 0.75 * WIN_H, size.w, size.h, Math.floor(Math.random() * LAYER_NEAR));\n        cloud.startMove();\n        clouds.push(cloud);\n    }\n};\nfunction makeBgMountain(num, basex) {\n    for(var i = 0; i < num; i++) {\n        var mountain = new Mountain();\n        var size = MOUNTAIN_SIZE[Math.floor(Math.random() * MOUNTAIN_SIZE.length)];\n        mountain.init(basex + Math.random() * win.w, (0.9 + 0.1 * Math.random())* WIN_H, size.s, size.l, size.h, size.m, Math.floor(Math.random() * (LAYER_NEAR)));\n        mountain.startMove();\n        mountains.push(mountain);\n    }\n};\n\nwin.drawIt = function(ctx) {\n    ctx.rect(0,0,win.w,win.h);\n    ctx.clip();\n    \n    //draw bg \n    ctx.fillStyle = \"#1D4D64\";\n    ctx.fillRect(0, 0, win.w, win.h);\n\n    //draw clouds\n    function layerToAlpha(layer) {\n        switch (layer) {\n            case LAYER_NEAR:\n                return 0.50;\n            case LAYER_MIDDLE:\n                return 0.30;\n            case LAYER_FAR:\n                return 0.20;\n        }\n    }\n    for(var layer = LAYER_FAR; layer <= LAYER_NEAR; layer++) {\n        ctx.globalAlpha = 1;\n        //draw mountains\n        mountains.forEach(\n            function(e) {\n                if(layer != e.layer || e.x > win.w) {\n                    return;\n                }\n                ctx.beginPath();\n                ctx.moveTo(e.x, e.y);\n                ctx.lineTo(e.x + (e.s - e.l) * 0.5, e.y - e.h);\n                ctx.lineTo(e.x + e.s * 0.5, e.y - e.m);\n                ctx.lineTo(e.x + (e.s + e.l) * 0.5, e.y - e.h);\n                ctx.lineTo(e.x + e.s, e.y),\n                ctx.lineTo(e.x, e.y);\n                ctx.closePath();\n                ctx.fillStyle = Mountain.layerToColor(e.layer);\n                ctx.fill();\n            }\n        );\n        clouds.forEach(\n            function(e) {\n                if(layer != e.layer || e.x > win.w) {\n                    return;\n                }\n                var x = e.x;\n                var y = e.y;\n                var w = e.w;\n                var h = e.h;\n                if(x < 0) {\n                    w = e.w + x;\n                    x = 0;\n                }\n                if(x + w > win.w) {\n                    w = win.w - x;\n                }\n                var alp = layerToAlpha(e.layer);\n                ctx.globalAlpha = alp;\n                ctx.fillStyle = \"white\";\n                //ctx.fillRect(e.x, e.y, e.w, e.h);\n                ctx.fillRect(x, y, w, h);\n            }\n        );\n    }\n    \n    //draw sea \n    ctx.fillStyle = \"#299EBF\";\n    ctx.fillRect(0, win.h * 7/10, win.w, win.h * 1/8);\n    ctx.fillStyle = \"#2792B2\";\n    ctx.fillRect(0, win.h * (7/10 + 1/8), win.w, win.h * 1/32);\n    ctx.fillStyle = \"#2284A1\";\n    ctx.fillRect(0, win.h * (7/10 + 1/8 + 1/32), win.w, win.h * 1/32);\n    ctx.fillStyle = \"#1C7792\";\n    ctx.fillRect(0, win.h * (7/10 + 1/8 + 1/16), win.w, win.h * 1/5);\n};\n\nwin.paintSelfOnly = function(canvas) {\n    win.drawIt(canvas);\n};\n\nfunction simpleSort(a, b) {\n    return a.x - b.x;\n}\nfunction level1BGCreate() {\n    makeBgMountain(MOUNTAIN_NUM_PER_WIN, 0);\n    makeBgMountain(MOUNTAIN_NUM_PER_WIN, win.w);\n    makeBgCloud(CLOUD_NUM_PER_WIN, 0);\n    makeBgCloud(CLOUD_NUM_PER_WIN, win.w);\n}\nfunction level2BGCreate() {\n    makeBgTree(TREE_NUM_PER_WIN, 0);\n    makeBgTree(TREE_NUM_PER_WIN, win.w);\n}\nfunction level3BGCreate() {\n    makeBgMountain(MOUNTAIN_NUM_PER_WIN, 0);\n    makeBgMountain(MOUNTAIN_NUM_PER_WIN, win.w);\n    makeBgCloud(CLOUD_NUM_PER_WIN, 0);\n    makeBgCloud(CLOUD_NUM_PER_WIN, win.w);\n}\nfunction level1BGMoved() {\n    clouds.sort(simpleSort);\n    mountains.sort(simpleSort);\n    if(mountains[0].x + mountains[0].s < 0) {\n        var m = mountains.shift();\n        m.stopMove();\n    }\n    if(clouds[0].x + clouds[0].w < 0) {\n        var c = clouds.shift();\n        c.stopMove();\n    }\n    if(mountains.length < 2 * MOUNTAIN_NUM_PER_WIN) {\n        makeBgMountain(MOUNTAIN_NUM_PER_WIN, win.w);\n    }\n    if(clouds.length < 2 * CLOUD_NUM_PER_WIN) {\n        makeBgCloud(CLOUD_NUM_PER_WIN, win.w);\n    }\n}\n\nfunction level2BGMoved() {\n    trees.sort(\n        function(a, b) {\n            return a.x - b.x;\n        }\n    );\n    //console.log(\"tree x:\" + trees[0].x + \" tree s:\" + trees[0].s);\n    if(trees[0].x + trees[0].s < 0) {\n        var m = trees.shift();\n        m.stopMove();\n    }\n    if(trees.length < 2 * TREE_NUM_PER_WIN) {\n        makeBgTree(TREE_NUM_PER_WIN, win.w);\n    }\n}\nfunction level3BGMoved() {\n    clouds.sort(simpleSort);\n    mountains.sort(simpleSort);\n    if(mountains[0].x + mountains[0].s < 0) {\n        var m = mountains.shift();\n        m.stopMove();\n    }\n    if(clouds[0].x + clouds[0].w < 0) {\n        var c = clouds.shift();\n        c.stopMove();\n    }\n    if(mountains.length < 2 * MOUNTAIN_NUM_PER_WIN) {\n        makeBgMountain(MOUNTAIN_NUM_PER_WIN, win.w);\n    }\n    if(clouds.length < 2 * CLOUD_NUM_PER_WIN) {\n        makeBgCloud(CLOUD_NUM_PER_WIN, win.w);\n    }\n}\n\nfunction level1BGDestroy() {\n    mountains.forEach(function(e){e.stopMove();});\n    clouds.forEach(function(e){e.stopMove();});\n}\n\nfunction level2BGDestroy() {\n    trees.forEach(function(e) {e.stopMove();});\n}\nfunction level3BGDestory() {\n    mountains.forEach(function(e){e.stopMove();});\n    clouds.forEach(function(e){e.stopMove();});\n}\n\nfunction GameDirector() {\n    var GAME_STATE_RUNNING = 0;\n    var GAME_STATE_ENDING = 1;\n    var GAME_STATE_OVER = 2;\n    var gameWinStr = [\n        \"level-1\",\n        \"level-2\",\n        \"level-3\",\n        ];\n    var bgCreateFuncs = [\n        level1BGCreate,\n        level2BGCreate,\n        level3BGCreate,\n        ];\n    var bgMovedFuncs = [\n        level1BGMoved,\n        level2BGMoved,\n        level3BGMoved,\n        ];\n    var bgDestoryFuncs = [\n        level1BGDestroy,\n        level2BGDestroy,\n        level3BGDestory,\n        ];\n    \n    GameDirector.DISMISS_ANIMATE = {scaleXEnd:1.5, scaleYEnd:1.5, rotationEnd:Math.PI * 0.5, duration:150};\n    GameDirector.DISMISS_ANIMATE.next = {scaleXEnd:0, scaleYEnd:0, rotationEnd:Math.PI, duration:250};\n\n    \n    GameDirector.prototype.init = function(win, level) {\n        this.win = win;\n        this.gameState = GAME_STATE_RUNNING;\n        this.level = level;\n    }\n    GameDirector.prototype.setActor = function(redcap) {\n        this.redcap = redcap;\n    }\n    GameDirector.prototype.playSoundMusic = function(name) {\n        this.win.playSoundMusic(name, function onDone() {console.log(\"play finished\");});\n    }\n    GameDirector.prototype.playSoundEffect = function(name) {\n        this.win.playSoundEffect(name, function onDone() {console.log(\"play finished\");});\n    }\n    GameDirector.prototype.isGameOver = function() {\n        return this.gameState === GAME_STATE_OVER;\n    }\n    GameDirector.prototype.startGame = function() {\n        bgCreateFuncs[this.level]();\n        this.redcap.startRun();\n    }\n    GameDirector.prototype.startJump = function() {\n        if(this.isGameOver()) {\n            return;\n        }\n        this.redcap.startJump();\n    }\n    GameDirector.prototype.endJump = function() {\n        if(this.isGameOver()) {\n            return;\n        }\n        this.redcap.endJump();\n    }\n    GameDirector.prototype.gameOver = function(success) {\n        if(this.gameState === GAME_STATE_OVER) {\n            return;\n        }\n        if(!success) {\n            this.playSoundEffect(\"tangram-over.mp3\");\n        }\n        this.gameState = GAME_STATE_OVER;\n        \n        bgDestoryFuncs[this.level]();\n        \n        var redcap = this.redcap;\n        var director = this;\n        function onDead() {\n            var store = window.localStorage;\n            var percentage = 0;\n            if(!success) {\n                percentage = Math.floor(100 * redcap.box.x / win.getVirtualWidth());\n            } else {\n                percentage = 100;\n            }\n            redcap.onDead();\n            var prefix = director.level + \"-\";\n            store.setItem(prefix + \"percentage\", percentage);\n            store.setItem(prefix + \"jumpcount\", redcap.jumpcount);\n            var tryingcount = store.getItem(prefix + \"tryingcount\");\n            store.setItem(prefix + \"tryingcount\", ++tryingcount);\n            \n            var initData = {percentage:percentage, jumpcount:redcap.jumpcount, tryingcount:tryingcount, gameWinStr:\"level-3\"};\n            win.openWindow(\"win-dead\", \n    \t        function (retData) {console.log(\"window closed.\");}, false, initData);\n        }\n        setTimeout(onDead, 500);\n    }\n    GameDirector.prototype.onRedcapMoved = function(sprite) {\n        if(this.isGameOver()) {\n            return;\n        }\n        bgMovedFuncs[this.level]();\n        var v = sprite.getV();\n        sprite.setV(SPRITE_V_X, v.y);\n    }\n    GameDirector.prototype.onBeginContact = function(body) {\n        this.redcap.onBeginContact(body);\n    }\n};\n\nfunction Redcap() {\n    Redcap.prototype.init = function(win, director) {\n        this.win = win;\n        this.director = director;\n        this.sprite = win.find(\"me/ui-skeleton-animation-general\");\n        this.box = win.find(\"me\");\n        this.jumpcount = 0;\n        this.jumpTimerID = 0;\n        this.jumpTime = 0;\n        director.setActor(this);\n    };\n    Redcap.prototype.startJump = function() {\n        var redcap = this;\n        var box = this.box;    \n        var sprite = this.sprite;\n        \n        var v = box.getV();\n        if(this.jumpTime === 0) {\n            if(this.director.isGameOver() || v.y  > 2 || v.y < -2) {\n                return;\n            }\n        }\n        \n        if(this.jumpTime > 0) {\n            --this.jumpTime;\n        }\n        \n        this.director.playSoundEffect(\"tangram-jump2.mp3\");\n        sprite.play(\"jump\");\n        this.jumpcount++;\n        box.setV(box.getV().x, SPRITE_V_Y);\n    \n        var timerCount = 30;\n        function onTimer() {\n            var v = box.getV();\n            if(--timerCount <= 0) {\n                sprite.play(\"run\");\n                clearInterval(redcap.jumpTimerID);\n                redcap.jumpTimerID = 0;\n                v.y += -0.2 * SPRITE_V_Y;\n            }\n            if(v.y < 0 && v.y > -1) {\n                v.y -= 0.5;\n            }\n            box.setV(v.x, v.y);\n        }\n        redcap.jumpTimerID = setInterval(onTimer, MOVING_TIMER_INTERVAL);\n    }\n    Redcap.prototype.endJump = function(){\n        if(this.jumpTimerID) {\n            clearInterval(this.jumpTimerID);\n            this.jumpTimerID = 0;\n        }\n        var v = this.box.getV();\n        if(v.y < 0) {\n            v.y = -0.1 * SPRITE_V_Y;\n        }\n        this.sprite.play(\"run\");\n        this.box.setV(v.x, v.y);\n    }\n    \n    Redcap.prototype.onBeginContact = function(body) {\n        if(this.director.isGameOver()) {\n            this.box.setEnable(false);\n            return;\n        }\n        var name = body.name;\n        var gameOver = false;\n        var success = false;\n        if(name.indexOf(\"spine\") === 0 \n                || name.indexOf(\"wall\") === 0\n                || name.indexOf(\"ground\") === 0) {\n            gameOver = true;\n        } else if(body.name.indexOf(\"platform\") === 0) {\n            if(body.element.x > this.x + this.w - 10) {\n                gameOver = true;\n            }\n            this.jumpTime = 0;\n        } else if(body.name.indexOf(\"end\") === 0) {\n            this.box.setVisible(false);\n            body.element.animate(GameDirector.DISMISS_ANIMATE);\n            gameOver = true;\n            success = true;\n        } else if(body.name.indexOf(\"food\") === 0) {\n            body.element.animate(GameDirector.DISMISS_ANIMATE);\n            this.jumpTime = 1;\n        } else if(body.name.indexOf(\"colorful-food\") === 0) {\n            body.element.getChildren()[0].animate(GameDirector.DISMISS_ANIMATE);\n            this.jumpTime = -1;\n        }\n        \n        if(gameOver) {\n            this.director.gameOver(success);\n            \n            if(success) {\n                this.box.setV(0, 0);\n                var cfg = {scaleXEnd:0, scaleYEnd:0, rotationEnd:Math.PI * 2, duration:350};\n                this.sprite.animate(cfg);\n            } else {\n                //this.director.playSoundEffect(\"tangram-over.mp3\");\n                this.sprite.play(\"fall\");\n                this.box.setV(-3, -6);\n            }\n        }\n    };\n    \n    Redcap.prototype.startRun = function() {\n        this.box.setPosition(this.box.x, win.h - platformData[0][1] * Y_FACTOR - 50);\n        this.sprite.play(\"run\");\n        this.box.setV(SPRITE_V_X, 0);\n    };\n    \n    Redcap.prototype.onDead = function() {\n        this.box.setVisible(false);\n    }\n}\n\nvar initGame = function() {\n    win.director = new GameDirector();\n    win.director.init(win, 2);\n    win.redcap = new Redcap();\n    win.redcap.init(win, win.director);\n    win.director.startGame();\n    win.setCameraFollowParams(0.3, 0.3);\n};\ninitGame();\n\n",
								"onClose": null,
								"onSwitchToBack": null,
								"onSwitchToFront": null,
								"onGesture": null,
								"onKeyDown": null,
								"onKeyUp": null,
								"onPointerDown": "var win = this;\nwin.director.startJump();\n",
								"onPointerMove": null,
								"onPointerUp": "var win = this;\nwin.director.endJump();",
								"onDoubleClick": null,
								"onSwipeLeft": null,
								"onSwipeRight": null,
								"onSwipeUp": "",
								"onSwipeDown": null
							},
							"images": {
								"display": 3
							},
							"children": [
								{
									"type": "ui-box",
									"name": "platform",
									"w": 426,
									"h": 153,
									"x": 17,
									"y": 408,
									"text": "",
									"hMargin": 10,
									"vMargin": 10,
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 20219,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"yInitVelocity": 0,
									"flipX": false,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "rgba(0,0,0,0)",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "",
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 2,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/3road3.a1.png"
									}
								},
								{
									"type": "ui-timer",
									"name": "ui-timer-general",
									"w": 85,
									"h": 78,
									"x": -2,
									"y": 26,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 14431,
									"runtimeVisible": false,
									"times": 10000000,
									"duration": 30,
									"delayStart": 0,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUITimer": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onTimeout": "this.getWindow().postRedraw();"
									},
									"images": {
										"display": 4,
										"default_bg": "drawapp8/images/timer.png"
									}
								},
								{
									"type": "ui-polygon",
									"name": "spine",
									"w": 66,
									"h": 76,
									"x": -126,
									"y": 182,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17300,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIPolygon": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 1,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": null,
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/8.png"
									},
									"children": [
										{
											"type": "ui-point",
											"name": "ui-point",
											"w": 20,
											"h": 20,
											"x": 23,
											"y": 1,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 17301,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIPoint": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "#7d471b",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0
											}
										},
										{
											"type": "ui-point",
											"name": "ui-point",
											"w": 20,
											"h": 20,
											"x": 46,
											"y": 53,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 17302,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIPoint": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "#7d471b",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0
											}
										},
										{
											"type": "ui-point",
											"name": "ui-point",
											"w": 20,
											"h": 20,
											"x": 1,
											"y": 55,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 17303,
											"runtimeVisible": true,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIPoint": true,
											"isUIElement": true,
											"hasChildren": true,
											"style": {
												"lineWidth": 2,
												"lineColor": "#7d471b",
												"fillColor": "rgba(0,0,0,0)",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null
											},
											"images": {
												"display": 0
											}
										}
									]
								},
								{
									"type": "ui-box",
									"name": "me",
									"w": 30,
									"h": 50,
									"x": 78,
									"y": 200,
									"text": "",
									"opacity": 0,
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17206,
									"runtimeVisible": true,
									"density": 10,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"longPressed": false,
									"cameraFollowMe": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "this.getWindow().director.onBeginContact(body);",
										"onEndContact": null,
										"onMoved": "this.getWindow().director.onRedcapMoved(this);\nthis.getWindow().find(\"snow\").setPosition(this.x - 200, -20);"
									},
									"images": {
										"display": 0
									},
									"children": [
										{
											"type": "ui-skeleton-animation",
											"name": "ui-skeleton-animation-general",
											"w": 30,
											"h": 50,
											"x": 0,
											"y": 0,
											"text": "",
											"opacity": 0.98,
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 18684,
											"runtimeVisible": true,
											"wMin": 50,
											"hMin": 50,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"skeletonJsonURL": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/me/skeleton.json",
											"textureJsonURL": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/me/texture.json",
											"textureURL": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/me/texture.png",
											"isUIDragonBones": true,
											"isUIElement": true,
											"hasChildren": true,
											"density": 1,
											"friction": 0.5,
											"restitution": 0.5,
											"animationScale": 1,
											"animationName": "color",
											"isUISkeletonAnimation": true,
											"longPressed": false,
											"style": {
												"lineWidth": 2,
												"lineColor": "Orange",
												"fillColor": "White",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": null,
												"onDoubleClick": null,
												"onUpdateTransform": null,
												"onLoadDone": null
											},
											"images": {
												"display": 2
											}
										}
									]
								},
								{
									"type": "ui-box",
									"name": "ground",
									"w": 15600,
									"h": 31,
									"x": 0,
									"y": 589,
									"text": "",
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 100,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 1,
									"widthAttr": 2,
									"heightAttr": 0,
									"uid": 24733,
									"runtimeVisible": false,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "",
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0
									}
								},
								{
									"type": "ui-sound-music",
									"name": "my-ui-sound-music-731",
									"w": 80,
									"h": 80,
									"x": 387,
									"y": 19,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 10636,
									"runtimeVisible": false,
									"roundRadius": 3,
									"value": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUISoundMusic": true,
									"isUICheckBox": true,
									"isUIElement": true,
									"hasChildren": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 16,
										"textColorOn": "Black",
										"fillColorOn": "White",
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onChanged": null,
										"onUpdateTransform": "this.setScale(this.pointerDown?1.1:1);"
									},
									"images": {
										"display": 0,
										"checked_fg": "cantk-game/assets/images/sound-music-on.png",
										"unchecked_fg": "cantk-game/assets/images/sound-music-off.png"
									}
								},
								{
									"type": "ui-sound-effects",
									"name": "my-ui-sound-effects-465",
									"w": 80,
									"h": 80,
									"x": 209,
									"y": 17,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 10631,
									"runtimeVisible": false,
									"roundRadius": 3,
									"value": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUISoundEffects": true,
									"isUICheckBox": true,
									"isUIElement": true,
									"hasChildren": true,
									"flipY": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 16,
										"textColorOn": "Black",
										"fillColorOn": "White",
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onChanged": null,
										"onUpdateTransform": "this.setScale(this.pointerDown?1.1:1);"
									},
									"images": {
										"display": 0,
										"checked_fg": "cantk-game/assets/images/sound-effects-on.png",
										"unchecked_fg": "cantk-game/assets/images/sound-effects-off.png"
									}
								},
								{
									"type": "ui-particles",
									"name": "snow",
									"w": 720,
									"h": 35,
									"x": 0,
									"y": -20,
									"text": "",
									"enable": true,
									"visible": true,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 17095,
									"runtimeVisible": true,
									"autoEmit": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"isUIParticles": true,
									"isUIElement": true,
									"hasChildren": true,
									"sticky": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "Orange",
										"fillColor": "White",
										"textColor": "Blue",
										"fontSize": 24,
										"fontFamily": "sans",
										"velocityXMax": -2,
										"velocityYMax": 15,
										"velocityType": "linear",
										"mass": 1,
										"rateNumMax": 12,
										"rateNumMin": 12,
										"rateTimeMin": 0.1,
										"rateTimeMax": 0.25,
										"radiusMin": 0,
										"radiusMax": 0,
										"lifeMin": 3,
										"lifeMax": 15,
										"velocityXMin": -4,
										"velocityYMin": 0,
										"driftX": 30,
										"driftY": 30,
										"driftDelay": 20,
										"driftLife": 1000,
										"startColor": "#ffffff",
										"endColor": "#ffffff",
										"colorLife": 268435455,
										"driftEasing": "easeLinear",
										"colorEasing": "easeLinear",
										"scaleMin": 0.3,
										"scaleMax": 1.5,
										"alphaMax": 1,
										"gravity": 0,
										"position": "top",
										"alphaMin": 0.2,
										"forceX": 0,
										"forceY": 0,
										"attractionY": 0,
										"massMin": 5,
										"massMax": 10,
										"textures": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/LEVEL4/fangge.png\n"
									},
									"events": {
										"onClick": null
									},
									"images": {
										"display": 0
									}
								},
								{
									"type": "ui-box",
									"name": "end",
									"w": 60,
									"h": 60,
									"x": -20,
									"y": 139,
									"text": "",
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 23510,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0,
									"restitution": 0,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isBullet": false,
									"isSensor": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": null,
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/zhongdian.png"
									}
								},
								{
									"type": "ui-box",
									"name": "food",
									"w": 67,
									"h": 63,
									"x": 184,
									"y": 292,
									"text": "",
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 14061,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0.5,
									"restitution": 0.5,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isSensor": true,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "",
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0,
										"default_bg": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/block.png"
									}
								},
								{
									"type": "ui-box",
									"name": "colorful-food",
									"w": 67,
									"h": 63,
									"x": 279,
									"y": 292,
									"text": "",
									"enable": true,
									"visible": true,
									"xParam": 1,
									"yParam": 1,
									"widthParam": 1,
									"heightParam": 1,
									"xAttr": 0,
									"yAttr": 0,
									"widthAttr": 0,
									"heightAttr": 0,
									"uid": 14061,
									"runtimeVisible": true,
									"density": 0,
									"friction": 0.5,
									"restitution": 0.5,
									"isUIBox": true,
									"isUIPhysicsShape": true,
									"isUIElement": true,
									"hasChildren": true,
									"isSensor": true,
									"locked": false,
									"isUIBody": true,
									"style": {
										"lineWidth": 2,
										"lineColor": "#7d471b",
										"fillColor": "rgba(0,0,0,0)",
										"textColor": "Blue",
										"fontSize": 16,
										"fontFamily": "sans"
									},
									"events": {
										"onClick": null,
										"onBeginContact": "",
										"onEndContact": null,
										"onMoved": null
									},
									"images": {
										"display": 0
									},
									"children": [
										{
											"type": "ui-frame-animation",
											"name": "ui-frame-animation2-general",
											"w": 67,
											"h": 63,
											"x": 0,
											"y": 0,
											"text": "",
											"enable": true,
											"visible": true,
											"xAttr": 0,
											"yAttr": 0,
											"widthAttr": 0,
											"heightAttr": 0,
											"uid": 13067,
											"runtimeVisible": true,
											"current": 0,
											"frameRate": 14,
											"playing": false,
											"autoPlay": true,
											"repeatTimes": 4294967295,
											"startFrame": 0,
											"endFrame": 0,
											"repeat": 4294967295,
											"xParam": 1,
											"yParam": 1,
											"widthParam": 1,
											"heightParam": 1,
											"isUIFrameAnimation": true,
											"isUIElement": true,
											"hasChildren": true,
											"groupIndex": 2,
											"defaultGroupName": "fire_2",
											"style": {
												"lineWidth": 2,
												"lineColor": "Orange",
												"fillColor": "White",
												"textColor": "Blue",
												"fontSize": 16,
												"fontFamily": "sans"
											},
											"events": {
												"onClick": "",
												"onDoubleClick": null,
												"onUpdateTransform": null
											},
											"images": {
												"display": 0,
												"option_image_0": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/me/1.png",
												"option_image_1": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/me/2.png",
												"option_image_2": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/me/3.png",
												"option_image_3": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/me/4.png",
												"option_image_4": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/me/5.png",
												"option_image_5": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/me/6.png",
												"option_image_6": "osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/me/7.png"
											},
											"groups": {}
										}
									]
								}
							]
						}
					]
				}
			]
		}
	],
	"fileList": [],
	"meta": {
		"general": {
			"appid": "com.tangide.redcap",
			"appversion": "1.0.0",
			"appname": "小红帽",
			"appdesc": "小红帽的外婆被狼吃了，小红帽要穿越艰难险阻为外婆报仇！！",
			"gapversion": "1.0",
			"screenscale": "fix-width",
			"orientation": "portrait",
			"developer": "tangram <tangram@tangide.com>",
			"appIcon": "http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/114.png",
			"screenShot1": "http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap.png",
			"screenShot2": "http://osgames1.b0.upaiyun.com/小红帽/screenshots/level-1.png",
			"screenShot3": "http://osgames1.b0.upaiyun.com/小红帽/screenshots/win-level.png",
			"fullscreen": true
		},
		"extlibs": [
			"res.wx.qq.com/open/js/jweixin-1.0.0.js"
		],
		"icons": {
			"iconDefault": "http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/96.png",
			"icon36": "http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/36.png",
			"icon48": "http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/48.png",
			"icon64": "http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/64.png",
			"icon72": "http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/72.png",
			"icon96": "http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/96.png",
			"icon114": "http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/114.png",
			"icon144": "http://osgames1.b0.upaiyun.com/games/YinLijun/Paoku/redcap/144.png"
		},
		"features": {},
		"plugins": [],
		"phonegap": {
			"config": "<?xml version='1.0' encoding='utf-8'?>\n<widget id=\"com.tangide.redcap\" version=\"1.0.0\" xmlns=\"http://www.w3.org/ns/widgets\" xmlns:gap=\"http://phonegap.com/ns/1.0\">\n<name>小红帽</name>\n<description>\n小红帽的外婆被狼吃了，小红帽要穿越艰难险阻为外婆报仇！！</description>\n<author email=\"support@phonegap.com\" href=\"http://phonegap.com\">\nPhoneGap Team\n</author>\n<content src=\"index.html\" />\n<preference name=\"orientation\" value=\"default\" />\n<preference name=\"target-device\" value=\"universal\" />\n<preference name=\"fullscreen\" value=\"true\" />\n<preference name=\"prerendered-icon\" value=\"true\" />\n<preference name=\"stay-in-webview\" value=\"false\" />\n<preference name=\"webviewbounce\" value=\"true\" />\n<preference name=\"exit-on-suspend\" value=\"false\" />\n<preference name=\"disable-cursor\" value=\"false\" />\n<preference name=\"android-installLocation\" value=\"auto\" />\n<preference name=\"DisallowOverscroll\" value=\"true\"/><preference name=\"InAppBrowserStorageEnabled\" value=\"true\"/><preference name=\"LogLevel\" value=\"VERBOSE\"/><preference name=\"EnableViewportScale\" value=\"true\"/><preference name=\"MediaPlaybackRequiresUserAction\" value=\"false\"/><gap:plugin name=\"org.apache.cordova.console\" />\n<gap:plugin name=\"org.apache.cordova.inappbrowser\" />\n<gap:plugin name=\"org.apache.cordova.vibration\" />\n<gap:plugin name=\"com.tangide.viewport\" />\n<icon src=\"icons/icon.png\" />\n<icon gap:platform=\"android\" gap:qualifier=\"ldpi\" src=\"icons/icon-36.png\" />\n<icon gap:platform=\"android\" gap:qualifier=\"mdpi\" src=\"icons/icon-48.png\" />\n<icon gap:platform=\"android\" gap:qualifier=\"hdpi\" src=\"icons/icon-72.png\" />\n<icon gap:platform=\"android\" gap:qualifier=\"xhdpi\" src=\"icons/icon-96.png\" />\n<icon gap:platform=\"ios\" height=\"72\" width=\"57\" src=\"icons/icon-72.png\" />\n<icon gap:platform=\"ios\" height=\"114\" width=\"57\" src=\"icons/icon-114.png\" />\n<icon gap:platform=\"ios\" height=\"144\" width=\"57\" src=\"icons/icon-144.png\" />\n<icon gap:platform=\"winphone\" src=\"icons/icon-48.png\" />\n<access origin=\"*\" />\n</widget>\n"
		}
	}
}